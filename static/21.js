!function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[a]={exports:{}};e[a][0].call(f.exports,function(t){var r=e[a][1][t];return i(r?r:t)},f,f.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){function n(t,e){if(e=e||"float32",!t[0]||!t[0].length)return t;for(var r="string"==typeof e?i(e):e,n=t[0].length,o=new r(t.length*n),a=0,s=0;s<t.length;s++)for(var u=0;n>u;u++)o[a++]=t[s][u];return o}var i=t(2);e.exports=n},{2:2}],2:[function(t,e,r){(function(t){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"data":case"dataview":return ArrayBuffer;case"buffer":return"undefined"==typeof t?ArrayBuffer:t}}}).call(this,t(4).Buffer)},{4:4}],3:[function(t,e,r){e.exports=function(t,e){var r="number"==typeof t,n="number"==typeof e;r&&!n?(e=t,t=0):r||n||(t=0,e=0),t=0|t,e=0|e;var i=e-t;if(0>i)throw new Error("array length must be positive");for(var o=new Array(i),a=0,s=t;i>a;a++,s++)o[a]=s;return o}},{}],4:[function(t,e,r){(function(e){function n(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(r){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t){return this instanceof o?(this.length=0,this.parent=void 0,"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):u(this,t)):arguments.length>1?new o(t,arguments[1]):new o(t)}function a(t,e){if(t=g(t,0>e?0:0|v(e)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;e>r;r++)t[r]=0;return t}function s(t,e,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|y(e,r);return t=g(t,n),t.write(e,r),t}function u(t,e){if(o.isBuffer(e))return c(t,e);if(J(e))return f(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return l(t,e);if(e instanceof ArrayBuffer)return h(t,e)}return e.length?p(t,e):d(t,e)}function c(t,e){var r=0|v(e.length);return t=g(t,r),e.copy(t,0,0,r),t}function f(t,e){var r=0|v(e.length);t=g(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function l(t,e){var r=0|v(e.length);t=g(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function h(t,e){return o.TYPED_ARRAY_SUPPORT?(e.byteLength,t=o._augment(new Uint8Array(e))):t=l(t,new Uint8Array(e)),t}function p(t,e){var r=0|v(e.length);t=g(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function d(t,e){var r,n=0;"Buffer"===e.type&&J(e.data)&&(r=e.data,n=0|v(r.length)),t=g(t,n);for(var i=0;n>i;i+=1)t[i]=255&r[i];return t}function g(t,e){o.TYPED_ARRAY_SUPPORT?(t=o._augment(new Uint8Array(e)),t.__proto__=o.prototype):(t.length=e,t._isBuffer=!0);var r=0!==e&&e<=o.poolSize>>>1;return r&&(t.parent=$),t}function v(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function m(t,e){if(!(this instanceof m))return new m(t,e);var r=new o(t,e);return delete r.parent,r}function y(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(n)return q(t).length;e=(""+e).toLowerCase(),n=!0}}function b(t,e,r){var n=!1;if(e=0|e,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),0>e&&(e=0),r>this.length&&(r=this.length),e>=r)return"";for(;;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return R(this,e,r);case"ascii":return j(this,e,r);case"binary":return L(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;n>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[r+a]=s}return a}function w(t,e,r,n){return G(q(e,t.length-r),t,r,n)}function x(t,e,r,n){return G(Y(e),t,r,n)}function E(t,e,r,n){return x(t,e,r,n)}function A(t,e,r,n){return G(H(e),t,r,n)}function T(t,e,r,n){return G(X(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?W.fromByteArray(t):W.fromByteArray(t.slice(e,r))}function R(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;r>i;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r>=i+s){var u,c,f,l;switch(s){case 1:128>o&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(l=(31&o)<<6|63&u,l>127&&(a=l));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(l=(15&o)<<12|(63&u)<<6|63&c,l>2047&&(55296>l||l>57343)&&(a=l));break;case 4:u=t[i+1],c=t[i+2],f=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&f)&&(l=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&f,l>65535&&1114112>l&&(a=l))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return S(n)}function S(t){var e=t.length;if(K>=e)return String.fromCharCode.apply(String,t);for(var r="",n=0;e>n;)r+=String.fromCharCode.apply(String,t.slice(n,n+=K));return r}function j(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(127&t[i]);return n}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=e;r>o;o++)i+=z(t[o]);return i}function O(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function U(t,e,r){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,a){if(!o.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>i||a>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}function M(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);o>i;i++)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);o>i;i++)t[r+i]=e>>>8*(n?i:3-i)&255}function B(t,e,r,n,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function D(t,e,r,n,i){return i||B(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,r,n,23,4),r+4}function k(t,e,r,n,i){return i||B(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,r,n,52,8),r+8}function F(t){if(t=V(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return 16>t?"0"+t.toString(16):t.toString(16)}function q(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],a=0;n>a;a++){if(r=t.charCodeAt(a),r>55295&&57344>r){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(56320>r){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=i-55296<<10|r-56320|65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,128>r){if((e-=1)<0)break;o.push(r)}else if(2048>r){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(65536>r){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function X(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function H(t){return W.toByteArray(F(t))}function G(t,e,r,n){for(var i=0;n>i&&!(i+r>=e.length||i>=t.length);i++)e[i+r]=t[i];return i}var W=t(5),Z=t(6),J=t(7);r.Buffer=o,r.SlowBuffer=m,r.INSPECT_MAX_BYTES=50,o.poolSize=8192;var $={};o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:n(),o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array),o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);a>i&&t[i]===e[i];)++i;return i!==a&&(r=t[i],n=e[i]),n>r?-1:r>n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!J(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new o(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new o(e),i=0;for(r=0;r<t.length;r++){var a=t[r];a.copy(n,i),i+=a.length}return n},o.byteLength=y,o.prototype.length=void 0,o.prototype.parent=void 0,o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):b.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:o.compare(this,t)},o.prototype.indexOf=function(t,e){function r(t,e,r){for(var n=-1,i=0;r+i<t.length;i++)if(t[r+i]===e[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===e.length)return r+n}else n=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(o.isBuffer(t))return r(this,t,e);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):r(this,[t],e);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},o.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},o.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=e,e=0|r,r=i}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(0>r||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return x(this,t,e,r);case"binary":return E(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;o.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t);var n;if(o.TYPED_ARRAY_SUPPORT)n=o._augment(this.subarray(t,e));else{var i=e-t;n=new o(i,void 0);for(var a=0;i>a;a++)n[a]=this[a+t]}return n.length&&(n.parent=this.parent||this),n},o.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||U(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},o.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||U(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},o.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||U(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||U(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),Z.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),Z.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),Z.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),Z.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||C(this,t,e,r,Math.pow(2,8*r),0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},o.prototype.writeUIntBE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||C(this,t,e,r,Math.pow(2,8*r),0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},o.prototype.writeUInt8=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<r&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+r},o.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,r){return t=+t,e=0|e,r||C(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},o.prototype.writeDoubleLE=function(t,e,r){return k(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return k(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&e>r&&n>e)for(i=a-1;i>=0;i--)t[i+e]=this[i+r];else if(1e3>a||!o.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)t[i+e]=this[i+r];else t._set(this.subarray(r,r+a),e);return a},o.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),e>r)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;r>n;n++)this[n]=t;else{var i=q(t.toString()),o=i.length;for(n=e;r>n;n++)this[n]=i[n%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=o.prototype;o._augment=function(t){return t.constructor=o,t._isBuffer=!0,t._set=t.set,t.get=Q.get,t.set=Q.set,t.write=Q.write,t.toString=Q.toString,t.toLocaleString=Q.toString,t.toJSON=Q.toJSON,t.equals=Q.equals,t.compare=Q.compare,t.indexOf=Q.indexOf,t.copy=Q.copy,t.slice=Q.slice,t.readUIntLE=Q.readUIntLE,t.readUIntBE=Q.readUIntBE,t.readUInt8=Q.readUInt8,t.readUInt16LE=Q.readUInt16LE,t.readUInt16BE=Q.readUInt16BE,t.readUInt32LE=Q.readUInt32LE,t.readUInt32BE=Q.readUInt32BE,t.readIntLE=Q.readIntLE,t.readIntBE=Q.readIntBE,t.readInt8=Q.readInt8,t.readInt16LE=Q.readInt16LE,t.readInt16BE=Q.readInt16BE,t.readInt32LE=Q.readInt32LE,t.readInt32BE=Q.readInt32BE,t.readFloatLE=Q.readFloatLE,t.readFloatBE=Q.readFloatBE,t.readDoubleLE=Q.readDoubleLE,t.readDoubleBE=Q.readDoubleBE,t.writeUInt8=Q.writeUInt8,t.writeUIntLE=Q.writeUIntLE,t.writeUIntBE=Q.writeUIntBE,t.writeUInt16LE=Q.writeUInt16LE,t.writeUInt16BE=Q.writeUInt16BE,t.writeUInt32LE=Q.writeUInt32LE,t.writeUInt32BE=Q.writeUInt32BE,t.writeIntLE=Q.writeIntLE,t.writeIntBE=Q.writeIntBE,t.writeInt8=Q.writeInt8,t.writeInt16LE=Q.writeInt16LE,t.writeInt16BE=Q.writeInt16BE,t.writeInt32LE=Q.writeInt32LE,t.writeInt32BE=Q.writeInt32BE,t.writeFloatLE=Q.writeFloatLE,t.writeFloatBE=Q.writeFloatBE,t.writeDoubleLE=Q.writeDoubleLE,t.writeDoubleBE=Q.writeDoubleBE,t.fill=Q.fill,t.inspect=Q.inspect,t.toArrayBuffer=Q.toArrayBuffer,t};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5,6:6,7:7}],5:[function(t,e,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===l?62:e===s||e===h?63:u>e?-1:u+10>e?e-u+26+26:f+26>e?e-f:c+26>e?e-c+26:void 0}function r(t){function r(t){c[l++]=t}var n,i,a,s,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;u="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,c=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var l=0;for(n=0,i=0;a>n;n+=4,i+=3)s=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),r((16711680&s)>>16),r((65280&s)>>8),r(255&s);return 2===u?(s=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,r(255&s)):1===u&&(s=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,r(s>>8&255),r(255&s)),c}function i(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,u="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=r(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0),l="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=r,t.fromByteArray=i}("undefined"==typeof r?this.base64js={}:r)},{}],6:[function(t,e,r){r.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+l>=1?h/u:h*Math.pow(2,1-l),e*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*g}},{}],7:[function(t,e,r){var n=Array.isArray,i=Object.prototype.toString;e.exports=n||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],8:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[t],s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(a(r))for(o=Array.prototype.slice.call(arguments,1),c=r.slice(),n=c.length,u=0;n>u;u++)c[u].apply(this,o);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var n=!1;return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var r,n,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],o=r.length,n=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(r)){for(s=o;s-->0;)if(r[s]===e||r[s].listener&&r[s].listener===e){n=s;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],i(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],9:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],10:[function(t,e,r){function n(){f=!1,s.length?c=s.concat(c):l=-1,c.length&&i()}function i(){if(!f){var t=setTimeout(n);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,u=e.exports={},c=[],f=!1,l=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new o(t,e)),1!==c.length||f||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],11:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],12:[function(t,e,r){(function(e,n){function i(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(e)?n.showHidden=e:e&&r._extend(n,e),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,t,n.depth)}function o(t,e){var r=i.styles[e];return r?"["+i.colors[r][0]+"m"+t+"["+i.colors[r][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}function u(t,e,n){if(t.customInspect&&e&&I(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return b(i)||(i=u(t,i,n)),i}var o=c(t,e);if(o)return o;var a=Object.keys(e),g=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),T(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(e);if(0===a.length){if(I(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(A(e))return t.stylize(Date.prototype.toString.call(e),"date");if(T(e))return f(e)}var m="",y=!1,_=["{","}"];if(d(e)&&(y=!0,_=["[","]"]),I(e)){var w=e.name?": "+e.name:"";m=" [Function"+w+"]"}if(x(e)&&(m=" "+RegExp.prototype.toString.call(e)),A(e)&&(m=" "+Date.prototype.toUTCString.call(e)),T(e)&&(m=" "+f(e)),0===a.length&&(!y||0==e.length))return _[0]+m+_[1];if(0>n)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return E=y?l(t,e,n,g,a):a.map(function(r){return h(t,e,n,g,r,y)}),t.seen.pop(),p(E,m,_)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,r,n,i){for(var o=[],a=0,s=e.length;s>a;++a)P(e,String(a))?o.push(h(t,e,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,r,n,i,!0))}),o}function h(t,e,r,n,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),P(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=v(r)?u(t,c.value,null):u(t,c.value,r-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,r){var n=0,i=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return E(t)&&"[object RegExp]"===S(t)}function E(t){return"object"==typeof t&&null!==t}function A(t){return E(t)&&"[object Date]"===S(t)}function T(t){return E(t)&&("[object Error]"===S(t)||t instanceof Error)}function I(t){return"function"==typeof t}function R(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function S(t){return Object.prototype.toString.call(t)}function j(t){return 10>t?"0"+t.toString(10):t.toString(10)}function L(){var t=new Date,e=[j(t.getHours()),j(t.getMinutes()),j(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var O=/%[sdj%]/g;r.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(i(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,o=n.length,a=String(t).replace(O,function(t){
if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return t}}),s=n[r];o>r;s=n[++r])a+=v(s)||!E(s)?" "+s:" "+i(s);return a},r.deprecate=function(t,i){function o(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var U,C={};r.debuglog=function(t){if(w(U)&&(U=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!C[t])if(new RegExp("\\b"+t+"\\b","i").test(U)){var n=e.pid;C[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else C[t]=function(){};return C[t]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=g,r.isNull=v,r.isNullOrUndefined=m,r.isNumber=y,r.isString=b,r.isSymbol=_,r.isUndefined=w,r.isRegExp=x,r.isObject=E,r.isDate=A,r.isError=T,r.isFunction=I,r.isPrimitive=R,r.isBuffer=t(11);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",L(),r.format.apply(r,arguments))},r.inherits=t(9),r._extend=function(t,e){if(!e||!E(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,t(10),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{10:10,11:11,9:9}],13:[function(t,e,r){var n=t(14),i=t(16);e.exports=function(t,e){function r(){o();var e=t.width,r=t.height;s[0]=e/o.scale,s[1]=r/o.scale}if(!t)throw new TypeError("must specify a canvas element");e=e||{};var o=n(t,e.parent,e.scale),a=i(),s=[0,0];return r(),window.addEventListener("resize",function(){r(),a.emit("resize")},!1),Object.defineProperties(a,{scale:{get:function(){return o.scale},set:function(t){o.scale=t}},shape:{get:function(){return s}},parent:{get:function(){return o.parent},set:function(t){o.parent=t}}}),a}},{14:14,16:16}],14:[function(t,e,r){function n(t,e,r){function n(){var e=n.parent||t.parentNode;if("function"==typeof e)var r=e(o)||o,s=r[0],u=r[1];else if(e&&e!==document.body)var c=i(e),s=0|c[0],u=0|c[1];else var s=window.innerWidth,u=window.innerHeight;return a?(t.setAttribute("width",s*n.scale+"px"),t.setAttribute("height",u*n.scale+"px")):(t.width=s*n.scale,t.height=u*n.scale),t.style.width=s+"px",t.style.height=u+"px",n}var a="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,n.scale=parseFloat(r||1),n.parent=e,n()}var i=t(15);e.exports=n;var o=new Float32Array(2)},{15:15}],15:[function(t,e,r){function n(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var e=!0;document.body.appendChild(t)}var r=t.getBoundingClientRect(),n=getComputedStyle(t),o=(0|r.height)+i(n.getPropertyValue("margin-top"))+i(n.getPropertyValue("margin-bottom")),a=(0|r.width)+i(n.getPropertyValue("margin-left"))+i(n.getPropertyValue("margin-right"));return e&&document.body.removeChild(t),[a,o]}function i(t){return parseFloat(t)||0}e.exports=n},{}],16:[function(t,e,r){function n(t){return this instanceof n?(this.running=!1,this.last=a(),this._frame=0,this._tick=this.tick.bind(this),void(t&&this.on("tick",t))):new n(t)}var i=t(93),o=t(8).EventEmitter,a=t(19),s=t(17);e.exports=n,i(n,o),n.prototype.start=function(){return this.running?void 0:(this.running=!0,this.last=a(),this._frame=s(this._tick),this)},n.prototype.stop=function(){return this.running=!1,0!==this._frame&&s.cancel(this._frame),this._frame=0,this},n.prototype.tick=function(){this._frame=s(this._tick);var t=a(),e=t-this.last;this.emit("tick",e),this.last=t}},{17:17,19:19,8:8,93:93}],17:[function(t,e,r){for(var n=t(18),i="undefined"==typeof window?{}:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],c=0;c<o.length&&!s;c++)s=i[o[c]+"Request"+a],u=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!u){var f=0,l=0,h=[],p=1e3/60;s=function(t){if(0===h.length){var e=n(),r=Math.max(0,p-(e-f));f=r+e,setTimeout(function(){var t=h.slice(0);h.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(f)}catch(r){setTimeout(function(){throw r},0)}},Math.round(r))}return h.push({handle:++l,callback:t,cancelled:!1}),l},u=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}e.exports=function(t){return s.call(i,t)},e.exports.cancel=function(){u.apply(i,arguments)}},{18:18}],18:[function(t,e,r){(function(t){(function(){var r,n,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-i)/1e6},n=t.hrtime,r=function(){var t;return t=n(),1e9*t[0]+t[1]},i=r()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,t(10))},{10:10}],19:[function(t,e,r){(function(t){e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,r){function n(t,e,r){return r>e?e>t?e:t>r?r:t:r>t?r:t>e?e:t}e.exports=n},{}],21:[function(t,e,r){function n(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var r=/<([\w:]+)/.exec(t);if(!r)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var n=r[1];if("body"==n){var i=e.createElement("html");return i.innerHTML=t,i.removeChild(i.lastChild)}var o=a[n]||a._default,s=o[0],u=o[1],c=o[2],i=e.createElement("div");for(i.innerHTML=u+t+c;s--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);for(var f=e.createDocumentFragment();i.firstChild;)f.appendChild(i.removeChild(i.firstChild));return f}e.exports=n;var i,o=!1;"undefined"!=typeof document&&(i=document.createElement("div"),i.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!i.getElementsByTagName("link").length,i=void 0);var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],22:[function(t,e,r){function n(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if("undefined"==typeof document)return null;e=e||{};var r=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(r.width=e.width),"number"==typeof e.height&&(r.height=e.height);var n,i=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var a=0;a<o.length;a++)if(n=r.getContext(o[a],i))return n}catch(s){n=null}return n||null}e.exports=n},{}],23:[function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);this.gl=t,this.audio=e,this.ctx=r||new AudioContext,this.waa=i(this.audio,this.ctx);var s=(this.waa.analyser[0]||this.waa.analyser).frequencyBinCount;this.waveNda=a(new Float32Array(s),[s,1]),this.waveTex=o(t,this.waveNda,{"float":!0}),this.waveFlt=this.waveNda.data,this.freqNda=a(new Float32Array(s),[s,1]),this.freqTex=o(t,this.freqNda,{"float":!0}),this.freqFlt=this.freqNda.data}var i=t(134),o=t(61),a=t(24);e.exports=n,n.prototype.waveform=function(t){return this.waa.waveform(null,t)},n.prototype.frequencies=function(t){return this.waa.frequencies(null,t)},n.prototype.bindWaveform=function(t,e){for(var r=this.waveform(),n=this.waveFlt,i=0;i<r.length;i++)n[i]=(r[i]-128)/128;return this.waveTex.setPixels(this.waveNda),this.waveTex.bind(t)},n.prototype.bindFrequencies=function(t,e){for(var r=this.frequencies(),n=this.freqFlt,i=0;i<r.length;i++)n[i]=r[i]/256;return this.freqTex.setPixels(this.freqNda),this.freqTex.bind(t)}},{134:134,24:24,61:61}],24:[function(t,e,r){function n(t,e){return t[0]-e[0]}function i(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(n);var i=new Array(r.length);for(t=0;t<i.length;++t)i[t]=r[t][1];return i}function o(t,e){var r=["View",e,"d",t].join("");0>e&&(r="View_Nil"+t);var n="generic"===t;if(-1===e){var o="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",a=new Function(o);return a()}if(0===e){var o="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",a=new Function("TrivialArray",o);return a(l[t][0])}var o=["'use strict'"],s=u(e),c=s.map(function(t){return"i"+t}),f="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),h=s.map(function(t){return"b"+t}).join(","),p=s.map(function(t){return"c"+t}).join(",");o.push("function "+r+"(a,"+h+","+p+",d){this.data=a","this.shape=["+h+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>e?(o.push("function "+r+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),n?o.push("return this.data.set("+f+",v)}"):o.push("return this.data["+f+"]=v}"),o.push("proto.get=function "+r+"_get("+c.join(",")+"){"),n?o.push("return this.data.get("+f+")}"):o.push("return this.data["+f+"]}"),o.push("proto.index=function "+r+"_index(",c.join(),"){return "+f+"}"),o.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),g=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+g.join(","));for(var v=0;e>v;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+r+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var v=0;e>v;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+r+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var m=new Array(e),y=new Array(e),v=0;e>v;++v)m[v]="a[i"+v+"]",y[v]="b[i"+v+"]";o.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+m.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var v=0;e>v;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(l[t],i)}function a(t){if(c(t))return"buffer";if(f)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,r,n){if(void 0===t){var i=l.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===r){r=new Array(s);for(var u=s-1,c=1;u>=0;--u)r[u]=c,c*=e[u]}if(void 0===n){n=0;for(var u=0;s>u;++u)r[u]<0&&(n-=(e[u]-1)*r[u])}for(var f=a(t),h=l[f];h.length<=s+1;)h.push(o(f,h.length-1));var i=h[s+1];return i(t,e,r,n)}var u=t(25),c=t(26),f="undefined"!=typeof Float64Array,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=s},{25:25,26:26}],25:[function(t,e,r){"use strict";function n(t){for(var e=new Array(t),r=0;t>r;++r)e[r]=r;return e}e.exports=n},{}],26:[function(t,e,r){e.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},{}],27:[function(t,e,r){"use strict";function n(t,e,r,n,i){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=i}function i(t,e,r,n,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(0>o)return t.bufferData(e,i,n),a;if(a+o>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),r}function o(t,e){for(var r=u.malloc(t.length,e),n=t.length,i=0;n>i;++i)r[i]=t[i];return r}function a(t,e){for(var r=1,n=e.length-1;n>=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}function s(t,e,r,i){if(r=r||t.ARRAY_BUFFER,i=i||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&&r!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(i!==t.DYNAMIC_DRAW&&i!==t.STATIC_DRAW&&i!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=t.createBuffer(),a=new n(t,r,o,0,i);return a.update(e),a}var u=t(38),c=t(28),f=t(33),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],h=n.prototype;h.bind=function(){this.gl.bindBuffer(this.type,this.handle)},h.unbind=function(){this.gl.bindBuffer(this.type,null)},h.dispose=function(){this.gl.deleteBuffer(this.handle)},h.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var r=t.dtype;if(l.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var n=gl.getExtension("OES_element_index_uint");r=n&&"uint16"!==r?"uint32":"uint16"}if(r===t.dtype&&a(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=i(this.gl,this.type,this.length,this.usage,t.data,e):this.length=i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=u.malloc(t.size,r),h=f(s,t.shape);c.assign(h,t),0>e?this.length=i(this.gl,this.type,this.length,this.usage,s,e):this.length=i(this.gl,this.type,this.length,this.usage,s.subarray(0,t.size),e),u.free(s)}}else if(Array.isArray(t)){var p;p=this.type===this.gl.ELEMENT_ARRAY_BUFFER?o(t,"uint16"):o(t,"float32"),0>e?this.length=i(this.gl,this.type,this.length,this.usage,p,e):this.length=i(this.gl,this.type,this.length,this.usage,p.subarray(0,t.length),e),u.free(p)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t=0|t,0>=t&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=s},{28:28,33:33,38:38}],28:[function(t,e,r){"use strict";function n(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var r=t.args[e];0===e?t.args[e]={name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:t.args[e]={name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return a({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function o(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);var n=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return n(i(t))}var a=t(29),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var e=u[t];r[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),r[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in c){var e=c[t];r[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),r[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in f){var e=f[t];r[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var e=l[t];r[e]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),r[e+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var t=0;t<h.length;++t){var e=h[t];r[e]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),r[e+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),r[e+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var e=p[t];r[e+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),r[e+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),r[e+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),r[e+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),r.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{29:29}],29:[function(t,e,r){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new n;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var i=0;i<r.length;++i){var a=r[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+r[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,o(e)}var o=t(31);e.exports=i},{31:31}],30:[function(t,e,r){"use strict";function n(t,e,r){var n,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],f=0,l=0;for(n=0;o>n;++n)c.push(["i",n,"=0"].join(""));for(i=0;a>i;++i)for(n=0;o>n;++n)l=f,f=t[n],0===n?c.push(["d",i,"s",n,"=t",i,"p",f].join("")):c.push(["d",i,"s",n,"=(t",i,"p",f,"-s",l,"*t",i,"p",l,")"].join(""));for(u.push("var "+c.join(",")),n=o-1;n>=0;--n)f=t[n],u.push(["for(i",n,"=0;i",n,"<s",f,";++i",n,"){"].join(""));for(u.push(r),n=0;o>n;++n){for(l=f,f=t[n],i=0;a>i;++i)u.push(["p",i,"+=d",i,"s",n].join(""));s&&(n>0&&u.push(["index[",l,"]-=s",l].join("")),u.push(["++index[",f,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,r,i){for(var o=e.length,a=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,c=[],f=0;a>f;++f)c.push(["var offset",f,"=p",f].join(""));for(var f=t;o>f;++f)c.push(["for(var j"+f+"=SS[",e[f],"]|0;j",f,">0;){"].join("")),c.push(["if(j",f,"<",s,"){"].join("")),c.push(["s",e[f],"=j",f].join("")),c.push(["j",f,"=0"].join("")),c.push(["}else{s",e[f],"=",s].join("")),c.push(["j",f,"-=",s,"}"].join("")),u&&c.push(["index[",e[f],"]=j",f].join(""));for(var f=0;a>f;++f){for(var l=["offset"+f],h=t;o>h;++h)l.push(["j",h,"*t",f,"p",e[h]].join(""));c.push(["p",f,"=(",l.join("+"),")"].join(""))}c.push(n(e,r,i));for(var f=t;o>f;++f)c.push("}");return c.join("\n")}function o(t){for(var e=0,r=t[0].length;r>e;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}function a(t,e,r){for(var n=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",f=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var l=e.offsetArgIndex.indexOf(a),h=e.offsetArgs[l];f=h.array,c="+q"+l;case"array":c="p"+f+c;var p="l"+a,d="a"+f;if(0===e.arrayBlockIndices[f])1===s.count?"generic"===r[f]?s.lvalue?(i.push(["var ",p,"=",d,".get(",c,")"].join("")),n=n.replace(u,p),o.push([d,".set(",c,",",p,")"].join(""))):n=n.replace(u,[d,".get(",c,")"].join("")):n=n.replace(u,[d,"[",c,"]"].join("")):"generic"===r[f]?(i.push(["var ",p,"=",d,".get(",c,")"].join("")),n=n.replace(u,p),s.lvalue&&o.push([d,".set(",c,",",p,")"].join(""))):(i.push(["var ",p,"=",d,"[",c,"]"].join("")),n=n.replace(u,p),s.lvalue&&o.push([d,"[",c,"]=",p].join("")));else{for(var g=[s.name],v=[c],m=0;m<Math.abs(e.arrayBlockIndices[f]);m++)g.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(m+1)+"*t"+f+"b"+m);if(u=new RegExp(g.join(""),"g"),c=v.join("+"),"generic"===r[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,o.join("\n")].join("\n").trim();
}function s(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var i=t[n],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[n]="u"+i.charAt(1)+o:e[n]=i.charAt(0)+o,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}function u(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),f=new Array(t.arrayArgs.length),l=0;l<t.arrayArgs.length;++l)f[l]=e[2*l],u[l]=e[2*l+1];for(var h=[],p=[],d=[],g=[],v=[],l=0;l<t.arrayArgs.length;++l){t.arrayBlockIndices[l]<0?(d.push(0),g.push(r),h.push(r),p.push(r+t.arrayBlockIndices[l])):(d.push(t.arrayBlockIndices[l]),g.push(t.arrayBlockIndices[l]+r),h.push(0),p.push(t.arrayBlockIndices[l]));for(var m=[],y=0;y<u[l].length;y++)d[l]<=u[l][y]&&u[l][y]<g[l]&&m.push(u[l][y]-d[l]);v.push(m)}for(var b=["SS"],_=["'use strict'"],w=[],y=0;r>y;++y)w.push(["s",y,"=SS[",y,"]"].join(""));for(var l=0;l<t.arrayArgs.length;++l){b.push("a"+l),b.push("t"+l),b.push("p"+l);for(var y=0;r>y;++y)w.push(["t",l,"p",y,"=t",l,"[",d[l]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[l]);++y)w.push(["t",l,"b",y,"=t",l,"[",h[l]+y,"]"].join(""))}for(var l=0;l<t.scalarArgs.length;++l)b.push("Y"+l);if(t.shapeArgs.length>0&&w.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var x=new Array(r),l=0;r>l;++l)x[l]="0";w.push(["index=[",x.join(","),"]"].join(""))}for(var l=0;l<t.offsetArgs.length;++l){for(var E=t.offsetArgs[l],A=[],y=0;y<E.offset.length;++y)0!==E.offset[y]&&(1===E.offset[y]?A.push(["t",E.array,"p",y].join("")):A.push([E.offset[y],"*t",E.array,"p",y].join("")));0===A.length?w.push("q"+l+"=0"):w.push(["q",l,"=",A.join("+")].join(""))}var T=c([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));w=w.concat(T),_.push("var "+w.join(","));for(var l=0;l<t.arrayArgs.length;++l)_.push("p"+l+"|=0");t.pre.body.length>3&&_.push(a(t.pre,t,f));var I=a(t.body,t,f),R=o(v);r>R?_.push(i(R,v[0],t,I)):_.push(n(v[0],t,I)),t.post.body.length>3&&_.push(a(t.post,t,f)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+_.join("\n")+"\n----------");var S=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",R,s(f)].join(""),j=new Function(["function ",S,"(",b.join(","),"){",_.join("\n"),"} return ",S].join(""));return j()}var c=t(32);e.exports=u},{32:32}],31:[function(t,e,r){"use strict";function n(t){var e=["'use strict'","var CACHED={}"],r=[],n=t.funcName+"_cwise_thunk";e.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],f=0;f<t.arrayArgs.length;++f){var l=t.arrayArgs[f];r.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),o.push("t"+l),o.push("r"+l),a.push("t"+l),a.push("r"+l+".join()"),s.push("array"+l+".data"),s.push("array"+l+".stride"),s.push("array"+l+".offset|0"),f>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[f]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[f])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var f=0;f<t.scalarArgs.length;++f)s.push("scalar"+t.scalarArgs[f]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------");var h=new Function("compile",e.join("\n"));return h(i.bind(void 0,t))}var i=t(30);e.exports=n},{30:30}],32:[function(t,e,r){"use strict";function n(t,e){for(var r=1,n=t.length,i=t[0],o=t[0],a=1;n>a;++a)if(o=i,i=t[a],e(i,o)){if(a===r){r++;continue}t[r++]=i}return t.length=r,t}function i(t){for(var e=1,r=t.length,n=t[0],i=t[0],o=1;r>o;++o,i=n)if(i=n,n=t[o],n!==i){if(o===e){e++;continue}t[e++]=n}return t.length=e,t}function o(t,e,r){return 0===t.length?t:e?(r||t.sort(e),n(t,e)):(r||t.sort(),i(t))}e.exports=o},{}],33:[function(t,e,r){arguments[4][24][0].apply(r,arguments)},{24:24,34:34,35:35}],34:[function(t,e,r){arguments[4][25][0].apply(r,arguments)},{25:25}],35:[function(t,e,r){arguments[4][26][0].apply(r,arguments)},{26:26}],36:[function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var i=32;r.INT_BITS=i,r.INT_MAX=2147483647,r.INT_MIN=-1<<i-1,r.sign=function(t){return(t>0)-(0>t)},r.abs=function(t){var e=t>>i-1;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(e>t)},r.max=function(t,e){return t^(t^e)&-(e>t)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,e|=r,e|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var e=0;256>e;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(o),r.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},r.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},r.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},r.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},r.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],37:[function(t,e,r){"use strict";function n(t,e,r){var i=0|t[r];if(0>=i)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;i>o;++o)a[o]=e;else for(o=0;i>o;++o)a[o]=n(t,e,r+1);return a}function i(t,e){var r,n;for(r=new Array(t),n=0;t>n;++n)r[n]=e;return r}function o(t,e){switch("undefined"==typeof e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return n(t,e,0)}return[]}e.exports=o},{}],38:[function(t,e,r){(function(e,n){"use strict";function i(t){if(t){var e=t.length||t.byteLength,r=y.log2(e);x[r].push(t)}}function o(t){i(t.buffer)}function a(t){var t=y.nextPow2(t),e=y.log2(t),r=x[e];return r.length>0?r.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function u(t){return new Uint16Array(a(2*t),0,t)}function c(t){return new Uint32Array(a(4*t),0,t)}function f(t){return new Int8Array(a(t),0,t)}function l(t){return new Int16Array(a(2*t),0,t)}function h(t){return new Int32Array(a(4*t),0,t)}function p(t){return new Float32Array(a(4*t),0,t)}function d(t){return new Float64Array(a(8*t),0,t)}function g(t){return _?new Uint8ClampedArray(a(t),0,t):s(t)}function v(t){return new DataView(a(t),0,t)}function m(t){t=y.nextPow2(t);var e=y.log2(t),r=E[e];return r.length>0?r.pop():new n(t)}var y=t(36),b=t(37);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var _="undefined"!=typeof Uint8ClampedArray,w=e.__TYPEDARRAY_POOL;w.UINT8C||(w.UINT8C=b([32,0])),w.BUFFER||(w.BUFFER=b([32,0]));var x=w.DATA,E=w.BUFFER;r.free=function(t){if(n.isBuffer(t))E[y.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|y.log2(e);x[r].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=o,r.freeArrayBuffer=i,r.freeBuffer=function(t){E[y.log2(t.length)].push(t)},r.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return a(t);switch(e){case"uint8":return s(t);case"uint16":return u(t);case"uint32":return c(t);case"int8":return f(t);case"int16":return l(t);case"int32":return h(t);case"float":case"float32":return p(t);case"double":case"float64":return d(t);case"uint8_clamped":return g(t);case"buffer":return m(t);case"data":case"dataview":return v(t);default:return null}return null},r.mallocArrayBuffer=a,r.mallocUint8=s,r.mallocUint16=u,r.mallocUint32=c,r.mallocInt8=f,r.mallocInt16=l,r.mallocInt32=h,r.mallocFloat32=r.mallocFloat=p,r.mallocFloat64=r.mallocDouble=d,r.mallocUint8Clamped=g,r.mallocDataView=v,r.mallocBuffer=m,r.clearCache=function(){for(var t=0;32>t;++t)w.UINT8[t].length=0,w.UINT16[t].length=0,w.UINT32[t].length=0,w.INT8[t].length=0,w.INT16[t].length=0,w.INT32[t].length=0,w.FLOAT[t].length=0,w.DOUBLE[t].length=0,w.UINT8C[t].length=0,x[t].length=0,E[t].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t(4).Buffer)},{36:36,37:37,4:4}],39:[function(t,e,r){function n(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],40:[function(t,e,r){function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],41:[function(t,e,r){"use strict";function n(t){this.gl=t,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(t,e){return t.name<e.name?-1:1}function o(t,e,r,i,o){var a=new n(t);return a.update(e,r,i,o),a}var a=t(43),s=t(42),u=t(44),c=t(46),f=t(45),l=n.prototype;l.bind=function(){this.program||this._relink(),this.gl.useProgram(this.program)},l.dispose=function(){this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},l.update=function(t,e,r,n){function o(){h.program=c.program(p,h._vref,h._fref,b,_);for(var t=0;t<r.length;++t)R[t]=p.getUniformLocation(h.program,r[t].name)}if(!e||1===arguments.length){var l=t;t=l.vertex,e=l.fragment,r=l.uniforms,n=l.attributes}var h=this,p=h.gl,d=h._vref;h._vref=c.shader(p,p.VERTEX_SHADER,t),d&&d.dispose(),h.vertShader=h._vref.shader;var g=this._fref;if(h._fref=c.shader(p,p.FRAGMENT_SHADER,e),g&&g.dispose(),h.fragShader=h._fref.shader,!r||!n){var v=p.createProgram();if(p.attachShader(v,h.fragShader),p.attachShader(v,h.vertShader),p.linkProgram(v),!p.getProgramParameter(v,p.LINK_STATUS)){var m=p.getProgramInfoLog(v);throw console.error("gl-shader: Error linking program:",m),new Error("gl-shader: Error linking program:"+m)}r=r||f.uniforms(p,v),n=n||f.attributes(p,v),p.deleteProgram(v)}n=n.slice(),n.sort(i);for(var y=[],b=[],_=[],w=0;w<n.length;++w){var x=n[w];if(x.type.indexOf("mat")>=0){for(var E=0|x.type.charAt(x.type.length-1),A=new Array(E),T=0;E>T;++T)A[T]=_.length,b.push(x.name+"["+T+"]"),"number"==typeof x.location?_.push(x.location+T):Array.isArray(x.location)&&x.location.length===E&&"number"==typeof x.location[T]?_.push(0|x.location[T]):_.push(-1);y.push({name:x.name,type:x.type,locations:A})}else y.push({name:x.name,type:x.type,locations:[_.length]}),b.push(x.name),"number"==typeof x.location?_.push(0|x.location):_.push(-1)}for(var I=0,w=0;w<_.length;++w)if(_[w]<0){for(;_.indexOf(I)>=0;)I+=1;_[w]=I}var R=new Array(r.length);o(),h._relink=o,h.types={uniforms:u(r),attributes:u(n)},h.attributes=s(p,h,y,_),Object.defineProperty(h,"uniforms",a(p,h,r,R))},e.exports=o},{42:42,43:43,44:44,45:45,46:46}],42:[function(t,e,r){"use strict";function n(t,e,r,n,i,o){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=i,this._constFunc=o}function i(t,e,r,i,o,a,s){for(var u=["gl","v"],c=[],f=0;o>f;++f)u.push("x"+f),c.push("x"+f);u.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+c.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var l=Function.apply(null,u),h=new n(t,e,r,i,o,l);Object.defineProperty(a,s,{set:function(e){return t.disableVertexAttribArray(i[r]),l(t,i[r],e),e},get:function(){return h},enumerable:!0})}function o(t,e,r,n,o,a,s){for(var u=new Array(o),c=new Array(o),f=0;o>f;++f)i(t,e,r[f],n,o,u,f),c[f]=u[f];Object.defineProperty(u,"location",{set:function(t){if(Array.isArray)for(var e=0;o>e;++e)c[e].location=t[e];else for(var e=0;o>e;++e)result[e]=c[e].location=t+e;return t},get:function(){for(var t=new Array(o),e=0;o>e;++e)t[e]=n[r[e]];return t},enumerable:!0}),u.pointer=function(e,i,a,s){e=e||t.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var u=0;o>u;++u){var c=n[r[u]];t.vertexAttribPointer(c,o,e,i,a,s+u*o),t.enableVertexAttribArray(c)}};var l=new Array(o),h=t["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(e){for(var i=0;o>i;++i){var a=n[r[i]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))h.call(t,a,e[i]);else{for(var s=0;o>s;++s)l[s]=e[o*i+s];h.call(t,a,l)}}return e},get:function(){return u},enumerable:!0})}function a(t,e,r,n){for(var a={},s=0,u=r.length;u>s;++s){var c=r[s],f=c.name,l=c.type,h=c.locations;switch(l){case"bool":case"int":case"float":i(t,e,h[0],n,1,a,f);break;default:if(l.indexOf("vec")>=0){var p=l.charCodeAt(l.length-1)-48;if(2>p||p>4)throw new Error("gl-shader: Invalid data type for attribute "+f+": "+l);i(t,e,h[0],n,p,a,f)}else{if(!(l.indexOf("mat")>=0))throw new Error("gl-shader: Unknown data type for attribute "+f+": "+l);var p=l.charCodeAt(l.length-1)-48;if(2>p||p>4)throw new Error("gl-shader: Invalid data type for attribute "+f+": "+l);o(t,e,h,n,p,a,f)}}}return a}e.exports=a;var s=n.prototype;s.pointer=function(t,e,r,n){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,t||o.FLOAT,!!e,r||0,n||0),o.enableVertexAttribArray(a)},s.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(s,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},{}],43:[function(t,e,r){"use strict";function n(t){var e=new Function("y","return function(){return y}");return e(t)}function i(t,e){for(var r=new Array(t),n=0;t>n;++n)r[n]=e;return r}function o(t,e,r,o){function s(r){var n=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+r+"])}");return n(t,e,o)}function u(t,e,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var n=r.indexOf("vec");if(!(n>=0&&1>=n&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var i=r.charCodeAt(r.length-1)-48;if(2>i||i>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+i+"fv(locations["+e+"],false,obj"+t+")"}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+r)}var i=r.charCodeAt(r.length-1)-48;if(2>i||i>4)throw new Error("gl-shader: Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+i+"fv(locations["+e+"],obj"+t+")";default:throw new Error("gl-shader: Unrecognized data type for vector "+name+": "+r)}}}function c(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var n in e){var i=e[n],o=t;o+=parseInt(n)+""===n?"["+n+"]":"."+n,"object"==typeof i?r.push.apply(r,c(o,i)):r.push([o,i])}return r}function f(e){for(var n=["return function updateProperty(obj){"],i=c("",e),a=0;a<i.length;++a){var s=i[a],f=s[0],l=s[1];o[l]&&n.push(u(f,l,r[l].type))}n.push("return obj}");var h=new Function("gl","locations",n.join("\n"));return h(t,o)}function l(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var e=t.indexOf("vec");if(e>=0&&1>=e&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(2>r||r>4)throw new Error("gl-shader: Invalid data type");return"b"===t.charAt(0)?i(r,!1):i(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(2>r||r>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+t);return i(r*r,0)}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+t)}}function h(t,e,i){if("object"==typeof i){var a=p(i);Object.defineProperty(t,e,{get:n(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(t,e,{get:s(i),set:f(i),enumerable:!0,configurable:!1}):t[e]=l(r[i].type)}function p(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)h(e,r,t[r])}else{e={};for(var n in t)h(e,n,t[n])}return e}var d=a(r,!0);return{get:n(p(d)),set:f(d),enumerable:!0,configurable:!0}}var a=t(44);e.exports=o},{44:44}],44:[function(t,e,r){"use strict";function n(t,e){for(var r={},n=0;n<t.length;++n)for(var i=t[n].name,o=i.split("."),a=r,s=0;s<o.length;++s){var u=o[s].split("[");if(u.length>1){u[0]in a||(a[u[0]]=[]),a=a[u[0]];for(var c=1;c<u.length;++c){var f=parseInt(u[c]);c<u.length-1||s<o.length-1?(f in a||(c<u.length-1?a[f]=[]:a[f]={}),a=a[f]):e?a[f]=n:a[f]=t[n].type}}else s<o.length-1?(u[0]in a||(a[u[0]]={}),a=a[u[0]]):e?a[u[0]]=n:a[u[0]]=t[n].type}return r}e.exports=n},{}],45:[function(t,e,r){"use strict";function n(t,e){if(!s){var r=Object.keys(a);s={};for(var n=0;n<r.length;++n){var i=r[n];s[t[i]]=a[i]}}return s[e]}function i(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=[],o=0;r>o;++o){var a=t.getActiveUniform(e,o);if(a){var s=n(t,a.type);if(a.size>1)for(var u=0;u<a.size;++u)i.push({name:a.name.replace("[0]","["+u+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function o(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=[],o=0;r>o;++o){var a=t.getActiveAttrib(e,o);a&&i.push({name:a.name,type:n(t,a.type)})}return i}r.uniforms=i,r.attributes=o;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},{}],46:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,a){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=o,this.programs=[],this.cache=a}function i(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function o(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(n);throw console.error("gl-shader: Error compiling shader:",i),new Error("gl-shader: Error compiling shader:"+i)}return n}function a(t,e,r,n,i){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,r);for(var a=0;a<n.length;++a)t.bindAttribLocation(o,i[a],n[a]);if(t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var s=t.getProgramInfoLog(o);throw console.error("gl-shader: Error linking program:",s),new Error("gl-shader: Error linking program:"+s)}return o}function s(t){var e=l.get(t);return e||(e=new i(t),l.set(t,e)),e}function u(t,e,r){return s(t).getShaderReference(e,r)}function c(t,e,r,n,i){return s(t).getProgram(e,r,n,i)}r.shader=u,r.program=c;var f="undefined"==typeof WeakMap?t(49):WeakMap,l=new f,h=0;n.prototype.dispose=function(){if(0===--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,i=r.length;i>n;++n){var o=t.programs[r[n]];o&&(delete t.programs[n],e.deleteProgram(o))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var p=i.prototype;p.getShaderReference=function(t,e){var r=this.gl,i=this.shaders[t===r.FRAGMENT_SHADER|0],a=i[e];if(a&&r.isShader(a.shader))a.count+=1;else{var s=o(r,t,e);a=i[e]=new n(h++,e,t,s,[],1,this)}return a},p.getProgram=function(t,e,r,n){var i=[t.id,e.id,r.join(":"),n.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,t.shader,e.shader,r,n),t.programs.push(i),e.programs.push(i)),o}},{49:49}],47:[function(t,e,r){function n(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:i(e,t)}}var i=t(48);e.exports=n},{48:48}],48:[function(t,e,r){function n(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}e.exports=n},{}],49:[function(t,e,r){function n(){var t=i();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){t(e).value=r},has:function(e){return"value"in t(e)},"delete":function(e){return delete t(e).value}}}var i=t(47);e.exports=n},{47:47}],50:[function(t,e,r){arguments[4][28][0].apply(r,arguments)},{28:28,51:51}],51:[function(t,e,r){arguments[4][29][0].apply(r,arguments)},{29:29,53:53}],52:[function(t,e,r){arguments[4][30][0].apply(r,arguments)},{30:30,54:54}],53:[function(t,e,r){arguments[4][31][0].apply(r,arguments)},{31:31,52:52}],54:[function(t,e,r){arguments[4][32][0].apply(r,arguments)},{32:32}],55:[function(t,e,r){arguments[4][24][0].apply(r,arguments)},{24:24,56:56,57:57}],56:[function(t,e,r){arguments[4][25][0].apply(r,arguments)},{25:25}],57:[function(t,e,r){arguments[4][26][0].apply(r,arguments)},{26:26}],58:[function(t,e,r){arguments[4][36][0].apply(r,arguments)},{36:36}],59:[function(t,e,r){arguments[4][37][0].apply(r,arguments)},{37:37}],60:[function(t,e,r){arguments[4][38][0].apply(r,arguments)},{38:38,4:4,58:58}],61:[function(t,e,r){"use strict";function n(t){v=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],m=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],y=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function i(t,e,r){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(0>e||e>i||0>r||r>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function o(t,e,r,n,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=u}function a(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function s(t,e,r,n,i,o,s,u){var c=u.dtype,f=u.shape.slice();if(f.length<2||f.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var l=0,h=0,v=a(f,u.stride.slice());"float32"===c?l=t.FLOAT:"float64"===c?(l=t.FLOAT,v=!1,c="float32"):"uint8"===c?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,v=!1,c="uint8");var m=1;if(2===f.length)h=t.LUMINANCE,f=[f[0],f[1],1],u=p(u.data,f,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==f.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===f[2])h=t.ALPHA;else if(2===f[2])h=t.LUMINANCE_ALPHA;else if(3===f[2])h=t.RGB;else{if(4!==f[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");h=t.RGBA}m=f[2]}if(h!==t.LUMINANCE&&h!==t.ALPHA||i!==t.LUMINANCE&&i!==t.ALPHA||(h=i),h!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=u.size,_=s.indexOf(n)<0;if(_&&s.push(n),l===o&&v)0===u.offset&&u.data.length===y?_?t.texImage2D(t.TEXTURE_2D,n,i,f[0],f[1],0,i,o,u.data):t.texSubImage2D(t.TEXTURE_2D,n,e,r,f[0],f[1],i,o,u.data):_?t.texImage2D(t.TEXTURE_2D,n,i,f[0],f[1],0,i,o,u.data.subarray(u.offset,u.offset+y)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,f[0],f[1],i,o,u.data.subarray(u.offset,u.offset+y));else{var w;w=o===t.FLOAT?g.mallocFloat32(y):g.mallocUint8(y);var x=p(w,f,[f[2],f[2]*f[0],1]);l===t.FLOAT&&o===t.UNSIGNED_BYTE?b(x,u):d.assign(x,u),_?t.texImage2D(t.TEXTURE_2D,n,i,f[0],f[1],0,i,o,w.subarray(0,y)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,f[0],f[1],i,o,w.subarray(0,y)),o===t.FLOAT?g.freeFloat32(w):g.freeUint8(w)}}function u(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function c(t,e,r,n,i){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(0>e||e>a||0>r||r>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=u(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,i,null),new o(t,s,e,r,n,i)}function f(t,e,r,n){var i=u(t);return t.texImage2D(t.TEXTURE_2D,0,r,r,n,e),new o(t,i,0|e.width,0|e.height,r,n)}function l(t,e){var r=e.dtype,n=e.shape.slice(),i=t.getParameter(t.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>i||n[1]<0||n[1]>i)throw new Error("gl-texture2d: Invalid texture size");var s=a(n,e.stride.slice()),c=0;"float32"===r?c=t.FLOAT:"float64"===r?(c=t.FLOAT,s=!1,r="float32"):"uint8"===r?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,s=!1,r="uint8");var f=0;if(2===n.length)f=t.LUMINANCE,n=[n[0],n[1],1],e=p(e.data,n,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])f=t.ALPHA;else if(2===n[2])f=t.LUMINANCE_ALPHA;else if(3===n[2])f=t.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");f=t.RGBA}}c!==t.FLOAT||t.getExtension("OES_texture_float")||(c=t.UNSIGNED_BYTE,s=!1);var l,h,v=e.size;if(s)l=0===e.offset&&e.data.length===v?e.data:e.data.subarray(e.offset,e.offset+v);else{var m=[n[2],n[2]*n[0],1];h=g.malloc(v,r);var y=p(h,n,m,0);"float32"!==r&&"float64"!==r||c!==t.UNSIGNED_BYTE?d.assign(y,e):b(y,e),l=h.subarray(0,v)}var _=u(t);return t.texImage2D(t.TEXTURE_2D,0,f,n[0],n[1],0,f,c,l),s||g.free(h),new o(t,_,n[0],n[1],f,c)}function h(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(v||n(t),"number"==typeof arguments[1])return c(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1];if(e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof ImageData)return f(t,e,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return l(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var p=t(55),d=t(50),g=t(60);e.exports=h;var v=null,m=null,y=null,b=function(t,e){d.muls(t,e,255)},_=o.prototype;Object.defineProperties(_,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&v.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),m.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&v.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),m.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;2>e;++e)if(y.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return i(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t=0|t,i(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t=0|t,i(this,this._shape[0],t),t}}}),_.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},_.dispose=function(){this.gl.deleteTexture(this.handle)},_.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},_.setPixels=function(t,e,r,n){var i=this.gl;if(this.bind(),Array.isArray(e)?(n=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),n=n||0,t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLVideoElement){var o=this._mipLevels.indexOf(n)<0;o?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,t),this._mipLevels.push(n)):i.texSubImage2D(i.TEXTURE_2D,n,e,r,this.format,this.type,t)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>n||r+t.shape[0]>this._shape[0]>>>n||0>e||0>r)throw new Error("gl-texture2d: Texture dimensions are out of bounds");
s(i,e,r,n,this.format,this.type,this._mipLevels,t)}}},{50:50,55:55,60:60}],62:[function(t,e,r){"use strict";function n(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<r.length;++i){var o=r[i];if(o.buffer){var a=o.buffer,s=o.size||4,u=o.type||t.FLOAT,c=!!o.normalized,f=o.stride||0,l=o.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,u,c,f,l)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;n>i;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;n>i;++i)t.disableVertexAttribArray(i)}}e.exports=n},{}],63:[function(t,e,r){"use strict";function n(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function i(t){return new n(t)}var o=t(62);n.prototype.bind=function(){o(this.gl,this._elements,this._attributes)},n.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._elements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},e.exports=i},{62:62}],64:[function(t,e,r){"use strict";function n(t,e,r,n,i,o){this.location=t,this.dimension=e,this.a=r,this.b=n,this.c=i,this.d=o}function i(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function o(t,e){return new i(t,e,e.createVertexArrayOES())}var a=t(62);n.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,e,r){if(this.bind(),a(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var o=t[i];"number"==typeof o?this._attribs.push(new n(i,1,o)):Array.isArray(o)&&this._attribs.push(new n(i,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!e,this._elementsType=r||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},e.exports=o},{62:62}],65:[function(t,e,r){"use strict";function n(t,e,r,n){var a,s=t.getExtension("OES_vertex_array_object");return a=s?i(t,s):o(t),a.update(e,r,n),a}var i=t(64),o=t(63);e.exports=n},{63:63,64:64}],66:[function(t,e,r){function n(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}e.exports=n},{}],67:[function(t,e,r){function n(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}e.exports=n},{}],68:[function(t,e,r){function n(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}e.exports=n},{}],69:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=i*u-o*s,t[1]=o*a-n*u,t[2]=n*s-i*a,t}e.exports=n},{}],70:[function(t,e,r){function n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.exports=n},{}],71:[function(t,e,r){function n(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}e.exports=n},{}],72:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}e.exports=n},{}],73:[function(t,e,r){function n(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}e.exports=n},{}],74:[function(t,e,r){function n(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}e.exports=n},{}],75:[function(t,e,r){function n(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}e.exports=n},{}],76:[function(t,e,r){function n(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}e.exports=n},{}],77:[function(t,e,r){function n(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}e.exports=n},{}],78:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*o-u*i,l=c*i+u*n-a*o,h=c*o+a*i-s*n,p=-a*n-s*i-u*o;return t[0]=f*c+p*-a+l*-u-h*-s,t[1]=l*c+p*-s+h*-a-f*-u,t[2]=h*c+p*-u+f*-s-l*-a,t}e.exports=n},{}],79:[function(t,e,r){function n(t){var e=s.indexOf(t);return-1!==e?e:0===t.indexOf(u)?3|parseInt(t.substring(u.length),10):void 0}function i(t){t.location=n(t.name)}var o=t(88),a=t(81),s=["position","normal","color"],u="texcoord";e.exports=function(t){return function(e){var r=a(t);return r.attributes.forEach(i),o(e,r.vertex,r.fragment,r.uniforms,r.attributes)}}},{81:81,88:88}],80:[function(t,e,r){function n(t,e){if(!(this instanceof n))return new n(t,e);i.call(this,t),e=e||{},this.gl=t;var r=e.shader;r||(this.defaultShader=a(t)),this.shader=r||this.defaultShader;var o=s(u());this.style({aspect:t.canvas.width/t.canvas.height,smoothing:[-.4,.8],noiseAlpha:.04,coloredNoise:!0,offset:[0,0],color1:[1,1,1],color2:[0,0,0],scale:[1,1],projection:o,view:o,model:o}),e&&this.style(e)}var i=(t(89),t(83)),o=t(93),a=t(79)(t(90)("\n#define GLSLIFY 1\n\nattribute vec4 position;\nattribute vec2 uv;\nuniform mat4 projection;\nuniform mat4 view;\nuniform mat4 model;\nvarying vec2 vUv;\nvoid main() {\n  gl_Position = projection * view * model * position;\n  vUv = uv;\n}","\n#define GLSLIFY 1\n\n#ifdef GL_ES\n\nprecision mediump float;\n#endif\n\nvarying vec2 vUv;\nhighp float a_x_random(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt = dot(co.xy, vec2(a, b));\n  highp float sn = mod(dt, 3.14);\n  return fract(sin(sn) * c);\n}\nuniform float aspect;\nuniform vec2 scale;\nuniform vec2 offset;\nuniform bool coloredNoise;\nuniform vec2 smoothing;\nuniform float noiseAlpha;\nuniform vec3 color1;\nuniform vec3 color2;\nvec3 BlendOverlay(vec3 base, vec3 blend) {\n  return vec3(base.r < 0.5 ? (2.0 * base.r * blend.r) : (1.0 - 2.0 * (1.0 - base.r) * (1.0 - blend.r)), base.g < 0.5 ? (2.0 * base.g * blend.g) : (1.0 - 2.0 * (1.0 - base.g) * (1.0 - blend.g)), base.b < 0.5 ? (2.0 * base.b * blend.b) : (1.0 - 2.0 * (1.0 - base.b) * (1.0 - blend.b)));\n}\nvoid main() {\n  vec2 pos = vUv;\n  pos -= 0.5;\n  pos.x *= aspect;\n  pos /= scale;\n  pos -= offset;\n  float dist = length(pos);\n  dist = smoothstep(smoothing.x, smoothing.y, 1. - dist);\n  vec4 color = vec4(1.0);\n  color.rgb = mix(color2, color1, dist);\n  if(noiseAlpha > 0.0) {\n    vec3 noise = coloredNoise ? vec3(a_x_random(vUv * 1.5), a_x_random(vUv * 2.5), a_x_random(vUv)) : vec3(a_x_random(vUv));\n    color.rgb = mix(color.rgb, BlendOverlay(color.rgb, noise), noiseAlpha);\n  }\n  gl_FragColor = color;\n}",[{name:"projection",type:"mat4"},{name:"view",type:"mat4"},{name:"model",type:"mat4"},{name:"aspect",type:"float"},{name:"scale",type:"vec2"},{name:"offset",type:"vec2"},{name:"coloredNoise",type:"bool"},{name:"smoothing",type:"vec2"},{name:"noiseAlpha",type:"float"},{name:"color1",type:"vec3"},{name:"color2",type:"vec3"}],[{name:"position",type:"vec4"},{name:"uv",type:"vec2"}])),s=t(40),u=t(39);o(n,i),n.prototype.style=function(t){if(t){this.shader.bind();var e=this.shader.uniforms;for(var r in t)t.hasOwnProperty(r)&&(t[r]||"number"==typeof t[r])&&(e[r]=t[r])}},n.prototype.draw=function(){i.prototype.draw.call(this,this.shader)},n.prototype.dispose=function(){this.defaultShader&&(this.defaultShader.dispose(),this.defaultShader=void 0),i.prototype.dispose.call(this)},e.exports=n},{39:39,40:40,79:79,83:83,89:89,90:90,93:93}],81:[function(t,e,r){e.exports=t(82)},{82:82}],82:[function(t,e,r){!function(){function r(t,e){var r,n;if(!i.isArray(t))throw new TypeError("parameter type is not an Array");for(r=0,n=t.length;n>r;++r)if(t[r]===e)return r;return-1}function n(t){function e(t,n,a,s){var u,c,f,l,h,p,d,g;if(null===t||"object"!=typeof t)return t;if(i.isDate(t))return new Date(Number(t));if(i.isRegExp(t))return new RegExp(t.source,String(t).slice(t.source.length+2));for(u=o(t),c=0,f=u.length;f>c;++c)l=u[c],h=t[l],null!==h&&"object"==typeof h&&(p=r(a,h),-1===p?(d=i.isArray(h)?[]:{},a.push(h),s.push(d)):g=s[p]),n[l]=g||e(h,d,a,s),p=d=g=null;return n}var n=i.isArray(t)?[]:{},a=[t],s=[n];return e(t,n,a,s)}var i="undefined"!=typeof e?t(12):function(){function t(t){return"object"==typeof t&&"[object Array]"===n.call(t)}function e(t){return"object"==typeof t&&"[object Date]"===n.call(t)}function r(t){return"object"==typeof t&&"[object RegExp]"===n.call(t)}var n=Object.prototype.toString;return{isArray:Array.isArray||t,isDate:e,isRegExp:r}}(),o=Object.keys||function(t){var e,r=[];if(null===t||"object"!=typeof t)throw new TypeError("parameter type is not an Object");for(e in t)t.hasOwnProperty(e)&&r.push(e);return r};"undefined"!=typeof e?e.exports=n:this.deepcopy=n}()},{12:12}],83:[function(t,e,r){function n(t){return this instanceof n?(this.gl=t,this.vertices=i(t,new Float32Array([-1,-1,-1,1,1,1,1,-1]),t.ARRAY_BUFFER,t.STATIC_DRAW),this.texcoords=i(t,new Float32Array([0,1,0,0,1,0,1,1]),t.ARRAY_BUFFER,t.STATIC_DRAW),this.elements=i(t,new Uint16Array([0,1,2,0,2,3]),t.ELEMENT_ARRAY_BUFFER,t.STATIC_DRAW),void(this.vao=o(t,[{buffer:this.vertices,size:2,noramlized:!1},{buffer:this.texcoords,size:2,normalized:!1}],this.elements))):new n(t)}var i=t(27),o=t(65);n.prototype.draw=function(t){t&&t.bind(),this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,6),this.vao.unbind()},n.prototype.dispose=function(){this.vertices.dispose(),this.texcoords.dispose(),this.elements.dispose(),this.vao.dispose(),this.gl=null},e.exports=n},{27:27,65:65}],84:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,a){this._gl=t,this._program=e,this._location=r,this._dimension=n,this._name=i,this._constFunc=o,this._relink=a}function i(t,e,r,i,o,a,s){for(var u=["gl","v"],c=[],f=0;i>f;++f)u.push("x"+f),c.push("x"+f);u.push(["if(x0.length===void 0){return gl.vertexAttrib",i,"f(v,",c.join(),")}else{return gl.vertexAttrib",i,"fv(v,x0)}"].join(""));var l=Function.apply(void 0,u),h=new n(t,e,r,i,a,l,s);Object.defineProperty(o,a,{set:function(e){return t.disableVertexAttribArray(h._location),l(t,h._location,e),e},get:function(){return h},enumerable:!0})}function o(t,e,r,n){for(var o={},a=0,s=r.length;s>a;++a){var u=r[a],c=u.name,f=u.type,l=t.getAttribLocation(e,c);switch(f){case"bool":case"int":case"float":i(t,e,l,1,o,c,n);break;default:if(!(f.indexOf("vec")>=0))throw new Error("gl-shader: Unknown data type for attribute "+c+": "+f);var h=f.charCodeAt(f.length-1)-48;if(2>h||h>4)throw new Error("gl-shader: Invalid data type for attribute "+c+": "+f);i(t,e,l,h,o,c,n)}}return o}e.exports=o;var a=n.prototype;a.pointer=function(t,e,r,n){var i=this._gl;i.vertexAttribPointer(this._location,this._dimension,t||i.FLOAT,!!e,r||0,n||0),this._gl.enableVertexAttribArray(this._location)},Object.defineProperty(a,"location",{get:function(){return this._location},set:function(t){t!==this._location&&(this._location=t,this._gl.bindAttribLocation(this._program,t,this._name),this._gl.linkProgram(this._program),this._relink())}})},{}],85:[function(t,e,r){"use strict";function n(t){var e=new Function("y","return function(){return y}");return e(t)}function i(t,e,r,i){function s(r){var n=new Function("gl","prog","locations","return function(){return gl.getUniform(prog,locations["+r+"])}");return n(t,e,i)}function u(t,e,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var n=r.indexOf("vec");if(!(n>=0&&1>=n&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var i=r.charCodeAt(r.length-1)-48;if(2>i||i>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+i+"fv(locations["+e+"],false,obj"+t+")"}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+r)}var i=r.charCodeAt(r.length-1)-48;if(2>i||i>4)throw new Error("gl-shader: Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+i+"fv(locations["+e+"],obj"+t+")";default:throw new Error("gl-shader: Unrecognized data type for vector "+name+": "+r)}}}function c(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var n in e){var i=e[n],o=t;o+=parseInt(n)+""===n?"["+n+"]":"."+n,"object"==typeof i?r.push.apply(r,c(o,i)):r.push([o,i])}return r}function f(n){for(var o=["return function updateProperty(obj){"],a=c("",n),s=0;s<a.length;++s){var f=a[s],l=f[0],h=f[1];i[h]&&o.push(u(l,h,r[h].type))}o.push("return obj}");var p=new Function("gl","prog","locations",o.join("\n"));return p(t,e,i)}function l(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var e=t.indexOf("vec");if(e>=0&&1>=e&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(2>r||r>4)throw new Error("gl-shader: Invalid data type");return"b"===t.charAt(0)?o(r,!1):o(r)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(2>r||r>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+t);return o([r,r])}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+t)}}function h(t,e,o){if("object"==typeof o){var a=p(o);Object.defineProperty(t,e,{get:n(a),set:f(o),enumerable:!0,configurable:!1})}else i[o]?Object.defineProperty(t,e,{get:s(o),set:f(o),enumerable:!0,configurable:!1}):t[e]=l(r[o].type)}function p(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)h(e,r,t[r])}else{e={};for(var n in t)h(e,n,t[n])}return e}var d=a(r,!0);return{get:n(p(d)),set:f(d),enumerable:!0,configurable:!0}}var o=t(87),a=t(86);e.exports=i},{86:86,87:87}],86:[function(t,e,r){arguments[4][44][0].apply(r,arguments)},{44:44}],87:[function(t,e,r){arguments[4][37][0].apply(r,arguments)},{37:37}],88:[function(t,e,r){"use strict";function n(t,e,r,n){this.gl=t,this.handle=e,this.attributes=null,this.uniforms=null,this.types=null,this.vertexShader=r,this.fragmentShader=n}function i(t,e,r,n){for(var i=0;i<n.length;++i)r[i]=t.getUniformLocation(e,n[i].name)}function o(t,e,r,i,o){var a=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(a,e),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(a);throw console.error("gl-shader: Error compling vertex shader:",s),new Error("gl-shader: Error compiling vertex shader:"+s)}var u=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(u,r),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(u);throw console.error("gl-shader: Error compiling fragment shader:",s),new Error("gl-shader: Error compiling fragment shader:"+s)}var c=t.createProgram();if(t.attachShader(c,u),t.attachShader(c,a),o.forEach(function(e){"number"==typeof e.location&&t.bindAttribLocation(c,e.location,e.name)}),t.linkProgram(c),!t.getProgramParameter(c,t.LINK_STATUS)){var s=t.getProgramInfoLog(c);throw console.error("gl-shader: Error linking shader program:",s),new Error("gl-shader: Error linking shader program:"+s)}var f=new n(t,c,a,u);return f.updateExports(i,o),f}var a=t(85),s=t(84),u=t(86);n.prototype.bind=function(){this.gl.useProgram(this.handle)},n.prototype.dispose=function(){var t=this.gl;t.deleteShader(this.vertexShader),t.deleteShader(this.fragmentShader),t.deleteProgram(this.handle)},n.prototype.updateExports=function(t,e){var r=new Array(t.length),n=this.handle,o=this.gl,c=i.bind(void 0,o,n,r,t);c(),this.types={uniforms:u(t),attributes:u(e)},this.attributes=s(o,n,e,c),Object.defineProperty(this,"uniforms",a(o,n,t,r))},e.exports=o},{84:84,85:85,86:86}],89:[function(t,e,r){function n(){throw new Error("You should bundle your code using `glslify` as a transform.")}e.exports=n},{}],90:[function(t,e,r){function n(t,e,r,n){return{vertex:t,fragment:e,uniforms:r,attributes:n}}e.exports=n},{}],91:[function(t,e,r){function n(t){var e=o(t);return'<link href="'+e+'" rel="stylesheet" type="text/css">'}function i(t){var e=o(t),r=document.createElement("link");return r.setAttribute("href",e),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r}function o(t){var e=Object.keys(t).map(function(e){var r=t[e];return e=e.replace(/\s+/,"+"),"boolean"==typeof r?e:e+":"+s(r).join(",")}).join("|");return"http://fonts.googleapis.com/css?family="+e}function a(t){var e=i(t);return document.head.appendChild(e),e}function s(t){return Array.isArray(t)?t:[t]}e.exports=n,e.exports.add=a},{}],92:[function(t,e,r){"use strict";e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");t=t.replace(/^#/,""),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e]}},{}],93:[function(t,e,r){arguments[4][9][0].apply(r,arguments)},{9:9}],94:[function(t,e,r){var n={};e.exports=function(t,e){if(!n[t]){n[t]=!0;var r=document.createElement("style");r.setAttribute("type","text/css"),"textContent"in r?r.textContent=t:r.styleSheet.cssText=t;var i=document.getElementsByTagName("head")[0];e&&e.prepend?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}},{}],95:[function(t,e,r){function n(t,e,r){return t*(1-r)+e*r}e.exports=n},{}],96:[function(t,e,r){function n(t,e,r){e=e||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n=t.clientX||0,o=t.clientY||0,a=i(e);return r[0]=n-a.left,r[1]=o-a.top,r}function i(t){return t===window||t===document||t===document.body?o:t.getBoundingClientRect()}var o={left:0,top:0};e.exports=n},{}],97:[function(t,e,r){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var r,a,s=n(t),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(s[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var f=0;f<a.length;f++)o.call(r,a[f])&&(s[a[f]]=r[a[f]])}}return s}},{}],98:[function(t,e,r){function n(t,e){function r(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}if(t&&e)return n(t)(e);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}e.exports=n},{}],99:[function(t,e,r){function n(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}var i=t(98);e.exports=i(n),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{98:98}],100:[function(t,e,r){function n(t){function e(t,e){var r=2*Math.PI;d[0]-=r*t*y.rotateSpeed,d[1]-=r*e*y.rotateSpeed}function r(t){d[2]+=t*y.zoomSpeed}function n(t){d[2]-=t*y.pinchSpeed}function p(t,e,r){var n=r||l;u(v,n,l),c(m,v);var o=y.distance;f.subtract(g,t,y.target),f.transformQuat(g,g,v);var s=Math.atan2(g[0],g[2]),p=Math.atan2(Math.sqrt(g[0]*g[0]+g[2]*g[2]),g[1]);s+=d[0],p+=d[1],s=a(s,y.thetaBounds[0],y.thetaBounds[1]),p=a(p,y.phiBounds[0],y.phiBounds[1]),p=a(p,h,Math.PI-h),o+=d[2],o=a(o,y.distanceBounds[0],y.distanceBounds[1]);var b=Math.abs(o)<=h?h:o;g[0]=b*Math.sin(p)*Math.sin(s),g[1]=b*Math.cos(p),g[2]=b*Math.sin(p)*Math.cos(s),y.phi=p,y.theta=s,y.distance=o,f.transformQuat(g,g,m),f.add(t,y.target,g),i(e,n,t,y.target);for(var _="number"==typeof y.damping?y.damping:1,w=0;w<d.length;w++)d[w]*=1-_}t=t||{};var d=[0,0,0],g=[0,0,0],v=[0,0,0,1],m=v.slice(),y={update:p,target:t.target||[0,0,0],phi:t.phi||0,theta:t.theta||0,distance:o(t.distance,1),damping:o(t.damping,.25),rotateSpeed:o(t.rotateSpeed,.28),zoomSpeed:o(t.zoomSpeed,.0075),pinchSpeed:o(t.pinchSpeed,.0075),pinch:t.pinching!==!1,zoom:t.zoom!==!1,rotate:t.rotate!==!1,phiBounds:t.phiBounds||[0,Math.PI],thetaBounds:t.thetaBounds||[-(1/0),1/0],distanceBounds:t.distanceBounds||[1,1/0]};return s({parent:t.parent||window,element:t.element,rotate:t.rotate!==!1?e:null,zoom:t.zoom!==!1?r:null,pinch:t.pinch!==!1?n:null}),y}function i(t,e,r,n){f.copy(t,n),f.subtract(t,t,r),f.normalize(t,t)}var o=t(102),a=t(20),s=t(101),u=t(109),c=t(103),f={length:t(71),add:t(67),subtract:t(77),transformQuat:t(78),copy:t(68),normalize:t(72),cross:t(69)},l=[0,1,0],h=1e-10;e.exports=n},{101:101,102:102,103:103,109:109,20:20,67:67,68:68,69:69,71:71,72:72,77:77,78:78}],101:[function(t,e,r){function n(t){function e(t){t.preventDefault()}function r(){d.addEventListener("touchmove",function(t){if(m&&!n())for(var e=0;e<t.changedTouches.length;e++){var r=t.changedTouches[e],i=p.indexOfTouch(r),o=x?-1!==i:0===i;if(o){f(r);break}}}),p.on("place",function(t,e){if(m=!n()){var r=e||t;u(r)}}),p.on("lift",function(t,e){m=!n(),m&&e&&o(e,d,v)})}function n(){return p.pinching&&x}function s(){p.on("change",function(t,e){x(t-e)})}function u(t){o(t,d,v),l(v)&&(m=!0)}function c(){m=!1}function f(t){var e=o(t,d,y);if(p&&n())return void(v=e);if(m){var r=h(b),i=(e[0]-v[0])/r[0],a=(e[1]-v[1])/r[1];w(i,a),v[0]=e[0],v[1]=e[1]}}function l(t){if(d===window||d===document||d===document.body)return!0;var e=d.getBoundingClientRect();return t[0]>=0&&t[1]>=0&&t[0]<=e.width&&t[1]<=e.height}function h(t){var e=d;return(e===window||e===document||e===document.body)&&(e=document.documentElement),t[0]=e.clientWidth,t[1]=e.clientHeight,t}var p,d=t.element||window,g=t.parent||d,v=[0,0],m=!1,y=[0,0],b=[0,0],_=t.zoom,w=t.rotate,x=t.pinch;_&&i(d,function(t,e){_(e)},!0),w&&(g.addEventListener("mousedown",u),g.addEventListener("mousemove",f),g.addEventListener("mouseup",c)),(w||x)&&(p=a(d),d.addEventListener("touchstart",e),w&&r(),x&&s())}var i=t(108),o=t(96),a=t(110);e.exports=n},{108:108,110:110,96:96}],102:[function(t,e,r){e.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},{}],103:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o,s=a?1/a:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=o*s,t}e.exports=n},{}],104:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=o*a),t}e.exports=n},{}],105:[function(t,e,r){e.exports=t(104)},{104:104}],106:[function(t,e,r){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var r=parseFloat(t,10);return e[0]=r,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],107:[function(t,e,r){"use strict";function n(t,e){var r=a(getComputedStyle(t).getPropertyValue(e));return r[0]*o(r[1],t)}function i(t,e){var r=document.createElement("div");r.style["font-size"]="128"+t,e.appendChild(r);var i=n(r,"font-size")/128;return e.removeChild(r),i}function o(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),(e===window||e===document)&&(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return i(t,e);case"em":return n(e,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}var a=t(106);e.exports=o;var s=96},{106:106}],108:[function(t,e,r){"use strict";function n(t,e,r){"function"==typeof t&&(r=!!e,e=t,t=window);var n=i("ex",t);t.addEventListener("wheel",function(t){r&&t.preventDefault();var i=t.deltaX||0,o=t.deltaY||0,a=t.deltaZ||0,s=t.deltaMode,u=1;switch(s){case 1:u=n;break;case 2:u=window.innerHeight}return i*=u,o*=u,a*=u,i||o||a?e(i,o,a):void 0})}var i=t(107);e.exports=n},{107:107}],109:[function(t,e,r){function n(t,e,r){var n=i(e,r)+1;return c>n?(n=0,Math.abs(e[0])>Math.abs(e[2])?o(u,-e[1],e[0],0):o(u,0,-e[2],e[1])):s(u,e,r),t[0]=u[0],t[1]=u[1],t[2]=u[2],t[3]=n,a(t,t),t}var i=t(70),o=t(75),a=t(105),s=t(69),u=[0,0,0],c=1e-6;e.exports=n},{105:105,69:69,70:70,75:75}],110:[function(t,e,r){function n(t){function e(t){for(var e=t.identifier,r=0;r<d.length;r++)if(d[r]&&d[r].touch&&d[r].touch.identifier===e)return r;return-1}function r(){y||(y=!0,t.addEventListener("touchstart",c,!1),t.addEventListener("touchmove",f,!1),t.addEventListener("touchend",l,!1),t.addEventListener("touchcancel",l,!1))}function n(){y&&(y=!1,t.removeEventListener("touchstart",c,!1),t.removeEventListener("touchmove",f,!1),t.removeEventListener("touchend",l,!1),t.removeEventListener("touchcancel",l,!1))}function c(r){for(var n=0;n<r.changedTouches.length;n++){var o=r.changedTouches[n],a=o.identifier,s=e(a);if(-1===s&&2>g){var c=0===g,f=d[0]?1:0,l=d[0]?0:1,y=new i;d[f]=y,g++,y.touch=o,u(o,t,y.position);var b=d[l]?d[l].touch:void 0;if(p.emit("place",o,b),!c){var _=h();m=!1,p.emit("start",_),v=_}}}}function f(r){for(var n=!1,i=0;i<r.changedTouches.length;i++){var o=r.changedTouches[i],a=e(o);-1!==a&&(n=!0,d[a].touch=o,u(o,t,d[a].position))}if(2===g&&n){var s=h();p.emit("change",s,v),v=s}}function l(t){for(var r=0;r<t.changedTouches.length;r++){var n=t.changedTouches[r],i=e(n);if(-1!==i){d[i]=null,g--;var o=0===i?1:0,a=d[o]?d[o].touch:void 0;p.emit("lift",n,a)}}m||2===g||(m=!0,p.emit("end"))}function h(){return 2>g?0:o(d[0].position,d[1].position)}t=t||window;var p=new a,d=[null,null],g=0,v=0,m=!1,y=!1;return Object.defineProperties(p,{pinching:s(function(){return 2===g}),fingers:s(function(){return d})}),r(),p.enable=r,p.disable=n,p.indexOfTouch=e,p}function i(){this.position=[0,0],this.touch=null}var o=t(66),a=t(8).EventEmitter,s=t(111),u=t(96);e.exports=n},{111:111,66:66,8:8,96:96}],111:[function(t,e,r){function n(t,e){return{configurable:!0,enumerable:!0,get:t,set:e}}e.exports=n},{}],112:[function(t,e,r){e.exports=t(115)},{115:115}],113:[function(t,e,r){var n=t(128),i=t(129),o=t(117),a=t(120),s=t(114),u=t(116),c=t(67),f=t(126),l=t(124),h=t(123),p=t(75);e.exports=function(t){function e(){f(b.projView,b.projection,b.view);var t=l(b.invProjView,b.projView);if(!t)throw new Error("camera projection * view is non-invertible")}function r(t){return s(b.direction,b.up,b.position,t),b}function d(){return p(b.position,0,0,0),p(b.direction,0,0,-1),p(b.up,0,1,0),h(b.view),h(b.projection),h(b.projView),h(b.invProjView),b}function g(t){return c(b.position,b.position,t),b}function v(t){var e=new i;return u(e.origin,e.direction,t,b.viewport,b.invProjView),e}function m(t){return o([],t,b.viewport,b.projView)}function y(t){return a([],t,b.viewport,b.invProjView)}t=t||{};var b={projection:h([]),view:h([]),position:t.position||[0,0,0],direction:t.direction||[0,0,-1],up:t.up||[0,1,0],viewport:t.viewport||[-1,-1,1,1],projView:h([]),invProjView:h([])};return n(b,{translate:g,identity:d,lookAt:r,createPickingRay:v,update:e,project:m,unproject:y})}},{114:114,116:116,117:117,120:120,123:123,124:124,126:126,128:128,129:129,67:67,75:75}],114:[function(t,e,r){var n=t(69),i=t(77),o=t(72),a=t(68),s=t(70),u=t(73),c=[0,0,0],f=1e-9;e.exports=function(t,e,r,l){i(c,l,r),o(c,c);var h=0===c[0]&&0===c[1]&&0===c[2];if(!h){var p=s(c,e);Math.abs(p-1)<f?u(e,t,-1):Math.abs(p+1)<f&&a(e,t),a(t,c),n(c,t,e),o(c,c),n(e,c,t),o(e,e)}}},{68:68,69:69,70:70,72:72,73:73,77:77}],115:[function(t,e,r){var n=t(113),i=t(128),o=t(122),a=t(127),s=t(125),u=t(67);e.exports=function(t){function e(){var t=r.viewport[2]/r.viewport[3];return a(r.projection,r.fov,t,Math.abs(r.near),Math.abs(r.far)),u(c,r.position,r.direction),s(r.view,r.position,c,r.up),f(),r}t=t||{};var r=n(t);r.fov=o(t.fov,Math.PI/4),r.near=o(t.near,1),r.far=o(t.far,100);var c=[0,0,0],f=r.update;return e(),i(r,{update:e})}},{113:113,122:122,125:125,127:127,128:128,67:67}],116:[function(t,e,r){function n(t,e,r,n,u){o(t,r[0],r[1],0),o(e,r[0],r[1],1),i(t,t,n,u),i(e,e,n,u),a(e,e,t),s(e,e)}var i=t(120),o=t(75),a=t(77),s=t(72);e.exports=n},{120:120,72:72,75:75,77:77}],117:[function(t,e,r){function n(t,e,r,n){var c=r[0],f=r[1],l=r[2],h=r[3],p=a,d=s;o(u,e[0],e[1],e[2],1),i(u,u,n);var g=u[3];return 0!==g&&(u[0]=u[0]/g,u[1]=u[1]/g,u[2]=u[2]/g),t[0]=c+l/2*u[0]+(0+l/2),t[1]=f+h/2*u[1]+(0+h/2),t[2]=(d-p)/2*u[2]+(d+p)/2,t[3]=0===g?0:1/g,t}var i=t(119),o=t(118),a=0,s=1,u=[0,0,0,0];e.exports=n},{118:118,119:119}],118:[function(t,e,r){function n(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}e.exports=n},{}],119:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,t}e.exports=n},{}],120:[function(t,e,r){function n(t,e,r,n){var o=r[0],a=r[1],s=r[2],u=r[3],c=e[0],f=e[1],l=e[2];return c-=o,f=u-f-1,f-=a,t[0]=2*c/s-1,t[1]=2*f/u-1,t[2]=2*l-1,i(t,t,n)}var i=t(121);e.exports=n},{121:121}],121:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2],c=r[3],f=r[4],l=r[5],h=r[6],p=r[7],d=r[8],g=r[9],v=r[10],m=r[11],y=r[12],b=r[13],_=r[14],w=r[15],x=1/(n*c+i*p+o*m+w);return t[0]=(n*a+i*f+o*d+y)*x,t[1]=(n*s+i*l+o*g+b)*x,t[2]=(n*u+i*h+o*v+_)*x,t}e.exports=n},{}],122:[function(t,e,r){arguments[4][102][0].apply(r,arguments)},{102:102}],123:[function(t,e,r){arguments[4][40][0].apply(r,arguments)},{40:40}],124:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],h=e[10],p=e[11],d=e[12],g=e[13],v=e[14],m=e[15],y=r*s-n*a,b=r*u-i*a,_=r*c-o*a,w=n*u-i*s,x=n*c-o*s,E=i*c-o*u,A=f*g-l*d,T=f*v-h*d,I=f*m-p*d,R=l*v-h*g,S=l*m-p*g,j=h*m-p*v,L=y*j-b*S+_*R+w*I-x*T+E*A;return L?(L=1/L,t[0]=(s*j-u*S+c*R)*L,t[1]=(i*S-n*j-o*R)*L,t[2]=(g*E-v*x+m*w)*L,t[3]=(h*x-l*E-p*w)*L,t[4]=(u*I-a*j-c*T)*L,t[5]=(r*j-i*I+o*T)*L,t[6]=(v*_-d*E-m*b)*L,t[7]=(f*E-h*_+p*b)*L,t[8]=(a*S-s*I+c*A)*L,t[9]=(n*I-r*S-o*A)*L,t[10]=(d*x-g*_+m*y)*L,t[11]=(l*_-f*x-p*y)*L,t[12]=(s*T-a*R-u*A)*L,t[13]=(r*R-n*T+i*A)*L,t[14]=(g*b-d*w-v*y)*L,t[15]=(f*w-l*b+h*y)*L,t):null}e.exports=n},{}],125:[function(t,e,r){function n(t,e,r,n){var o,a,s,u,c,f,l,h,p,d,g=e[0],v=e[1],m=e[2],y=n[0],b=n[1],_=n[2],w=r[0],x=r[1],E=r[2];return Math.abs(g-w)<1e-6&&Math.abs(v-x)<1e-6&&Math.abs(m-E)<1e-6?i(t):(l=g-w,h=v-x,p=m-E,d=1/Math.sqrt(l*l+h*h+p*p),l*=d,h*=d,p*=d,o=b*p-_*h,a=_*l-y*p,s=y*h-b*l,d=Math.sqrt(o*o+a*a+s*s),d?(d=1/d,o*=d,a*=d,s*=d):(o=0,a=0,s=0),u=h*s-p*a,c=p*o-l*s,f=l*a-h*o,d=Math.sqrt(u*u+c*c+f*f),d?(d=1/d,u*=d,c*=d,f*=d):(u=0,c=0,f=0),t[0]=o,t[1]=u,t[2]=l,t[3]=0,t[4]=a,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=f,t[10]=p,t[11]=0,t[12]=-(o*g+a*v+s*m),t[13]=-(u*g+c*v+f*m),t[14]=-(l*g+h*v+p*m),t[15]=1,t)}var i=t(123);e.exports=n},{123:123}],126:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],h=e[9],p=e[10],d=e[11],g=e[12],v=e[13],m=e[14],y=e[15],b=r[0],_=r[1],w=r[2],x=r[3];return t[0]=b*n+_*s+w*l+x*g,t[1]=b*i+_*u+w*h+x*v,t[2]=b*o+_*c+w*p+x*m,t[3]=b*a+_*f+w*d+x*y,b=r[4],_=r[5],w=r[6],x=r[7],t[4]=b*n+_*s+w*l+x*g,t[5]=b*i+_*u+w*h+x*v,t[6]=b*o+_*c+w*p+x*m,t[7]=b*a+_*f+w*d+x*y,b=r[8],_=r[9],w=r[10],x=r[11],t[8]=b*n+_*s+w*l+x*g,t[9]=b*i+_*u+w*h+x*v,t[10]=b*o+_*c+w*p+x*m,t[11]=b*a+_*f+w*d+x*y,b=r[12],_=r[13],w=r[14],x=r[15],t[12]=b*n+_*s+w*l+x*g,t[13]=b*i+_*u+w*h+x*v,t[14]=b*o+_*c+w*p+x*m,t[15]=b*a+_*f+w*d+x*y,t}e.exports=n},{}],127:[function(t,e,r){function n(t,e,r,n,i){var o=1/Math.tan(e/2),a=1/(n-i);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*a,t[15]=0,t}e.exports=n},{}],128:[function(t,e,r){"use strict";function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");
return Object(t)}e.exports=Object.assign||function(t,e){for(var r,i,o=n(t),a=1;a<arguments.length;a++){r=arguments[a],i=Object.keys(Object(r));for(var s=0;s<i.length;s++)o[i[s]]=r[i[s]]}return o}},{}],129:[function(t,e,r){function n(t,e){this.origin=t||[0,0,0],this.direction=e||[0,0,-1]}var i=t(133),o=t(131),a=t(132),s=t(130),u=t(68),c=[[0,0,0],[0,0,0],[0,0,0]],f=[0,0,0];e.exports=n,n.prototype.set=function(t,e){this.origin=t,this.direction=e},n.prototype.copy=function(t){u(this.origin,t.origin),u(this.direction,t.direction)},n.prototype.clone=function(){var t=new n;return t.copy(this),t},n.prototype.intersectsSphere=function(t,e){return a(f,this.origin,this.direction,t,e)},n.prototype.intersectsPlane=function(t,e){return o(f,this.origin,this.direction,t,e)},n.prototype.intersectsTriangle=function(t){return i(f,this.origin,this.direction,t)},n.prototype.intersectsBox=function(t){return s(f,this.origin,this.direction,t)},n.prototype.intersectsTriangleCell=function(t,e){var r=t[0],n=t[1],i=t[2];return c[0]=e[r],c[1]=e[n],c[2]=e[i],this.intersectsTriangle(c)}},{130:130,131:131,132:132,133:133,68:68}],130:[function(t,e,r){function n(t,e,r,n){var o=i(e,r,n);if(o===1/0)t=null;else{t=t||[];for(var a=0;a<e.length;a++)t[a]=e[a]+r[a]*o}return t}function i(t,e,r){for(var n=t.length,i=-(1/0),o=+(1/0),a=0;n>a;a++){var s=(r[0][a]-t[a])/e[a],u=(r[1][a]-t[a])/e[a];if(s>u){var c=s;s=u,u=c}if(i>u||s>o)return 1/0;s>i&&(i=s),o>u&&(o=u)}return i>o?1/0:i}e.exports=n,e.exports.distance=i},{}],131:[function(t,e,r){function n(t,e,r,n,c){var f=i(r,n);if(0!==f){var l=-(i(e,n)+c)/f;return 0>l?null:(a(u,r,l),o(t,e,u))}return i(n,e)+c===0?s(t,e):null}var i=t(70),o=t(67),a=t(73),s=t(68);e.exports=n;var u=[0,0,0]},{67:67,68:68,70:70,73:73}],132:[function(t,e,r){function n(t,e,r,n,l){a(f,n,e);var h=o(r,f);if(0>h)return null;s(f,e,r,h);var p=i(n,f),d=l*l;return p>d?null:(u(t,r,h-Math.sqrt(d-p)),c(t,t,e))}var i=t(76),o=t(70),a=t(77),s=t(74),u=t(73),c=t(67),f=[0,0,0];e.exports=n},{67:67,70:70,73:73,74:74,76:76,77:77}],133:[function(t,e,r){function n(t,e,r,n){a(u,n[1],n[0]),a(c,n[2],n[0]),i(l,r,c);var p=o(u,l);if(s>p)return null;a(f,e,n[0]);var d=o(f,l);if(0>d||d>p)return null;i(h,f,u);var g=o(r,h);if(0>g||d+g>p)return null;var v=o(c,h)/p;return t[0]=e[0]+v*r[0],t[1]=e[1]+v*r[1],t[2]=e[2]+v*r[2],t}var i=t(69),o=t(70),a=t(77),s=1e-6,u=[0,0,0],c=[0,0,0],f=[0,0,0],l=[0,0,0],h=[0,0,0];e.exports=n},{69:69,70:70,77:77}],134:[function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);if(e instanceof i||(r=e,e=null),r=r||{},this.ctx=e=e||new i,t instanceof AudioNode||(t=t instanceof Audio?e.createMediaElementSource(t):e.createMediaStreamSource(t)),this.analyser=e.createAnalyser(),this.stereo=!!r.stereo,this.audible=r.audible!==!1,this.wavedata=null,this.freqdata=null,this.splitter=null,this.merger=null,this.source=t,this.stereo){this.analyser=[this.analyser],this.analyser.push(e.createAnalyser()),this.splitter=e.createChannelSplitter(2),this.merger=e.createChannelMerger(2),this.output=this.merger,this.source.connect(this.splitter);for(var o=0;2>o;o++)this.splitter.connect(this.analyser[o],o,0),this.analyser[o].connect(this.merger,0,o);this.audible&&this.merger.connect(e.destination)}else this.output=this.source,this.source.connect(this.analyser),this.audible&&this.analyser.connect(e.destination)}var i=window.AudioContext||window.webkitAudioContext;e.exports=n,n.prototype.waveform=function(t,e){t||(t=this.wavedata||(this.wavedata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var r=this.stereo?this.analyser[e||0]:this.analyser;return r.getByteTimeDomainData(t),t},n.prototype.frequencies=function(t,e){t||(t=this.freqdata||(this.freqdata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var r=this.stereo?this.analyser[e||0]:this.analyser;return r.getByteFrequencyData(t),t}},{}],135:[function(t,e,r){var n=t(22);e.exports=function(t){return n("webgl",t)}},{22:22}],136:[function(t,e,r){"use strict";function n(){if(1>C)return f("This demo requires a GPU with vertex texture sampling.");if(!O)return f("This demo requires a WebAudio capable browser.");if(h())return l();var t=new O,e=U(T,{context:t,loop:!0,buffer:_});e.once("load",function(){q=c(L,e.node,t),e.play(),M.start()})}function i(){return g(w).map(function(t,e,r){var n=v(-1,1,t/(r.length-1));return[n,0,0]})}var o=t(139),a=t(100),s=t(112),u=t(41),c=t(23),f=t(138)(),l=t(137),h=t(140),p=t(97),d=t(40),g=t(3),v=(t(99),t(95)),m=t(80),y=t(92),b=function(t){return y(t).map(function(t){return t/255})},_=/Safari/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent),w=200,x=_?50:100,E=.1,A=.01,T="assets/highroad.mp3",I={opacity:.5,useHue:!1,additive:!1},R=[{gradient:["#fff","#4f4f4f"],color:"#000",useHue:!0}],S=R[Math.floor(Math.random()*R.length)];S=p({},I,S);var j=b(S.color),L=t(135)(),P=L.canvas;document.body.appendChild(P);var O=window.AudioContext||window.webkitAudioContext,U=t(141),C=L.getParameter(L.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=t(13)(P,{scale:window.devicePixelRatio}),N=m(L);N.style({aspect:1,color1:b(S.gradient[0]),color2:b(S.gradient[1]),smoothing:[-.5,1],noiseAlpha:.1,offset:[-.05,-.15]});var B=d([]),D=u(L,"#define GLSLIFY 1\nattribute vec3 position;\nattribute float direction; \nattribute vec3 next;\nattribute vec3 previous;\n\nuniform sampler2D audioTexture;\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\nuniform float aspect;\nuniform float radius;\nuniform float index;\n\nuniform float thickness;\nuniform float iGlobalTime;\nuniform int miter;\n\nvarying float vAngle;\nvarying vec2 uvCoords;\n\n#define HAS_VERTEX_SAMPLER\n#define PI 3.14\n\nfloat glAudioAnalyser_2_0(sampler2D audioData, float audioIndex) {\n  return texture2D(audioData, vec2(audioIndex, 0.5)).r;\n}\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289_0_1(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nfloat mod289_0_1(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nvec4 permute_0_2(vec4 x) {\n     return mod289_0_1(((x*34.0)+1.0)*x);\n}\n\nfloat permute_0_2(float x) {\n     return mod289_0_1(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_0_3(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat taylorInvSqrt_0_3(float r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 grad4_0_4(float j, vec4 ip)\n  {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;\n\n  return p;\n  }\n\n// (sqrt(5) - 1)/4 = F4, used once below\n#define F4 0.309016994374947451\n\nfloat snoise_0_5(vec4 v)\n  {\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\n                        0.276393202250021,  // 2 * G4\n                        0.414589803375032,  // 3 * G4\n                       -0.447213595499958); // -1 + 4 * G4\n\n// First corner\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n// Other corners\n\n// Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n//  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n//  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n// Permutations\n  i = mod289_0_1(i);\n  float j0 = permute_0_2( permute_0_2( permute_0_2( permute_0_2(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute_0_2( permute_0_2( permute_0_2( permute_0_2 (\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n\n// Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n// 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0_0_6 = grad4_0_4(j0,   ip);\n  vec4 p1 = grad4_0_4(j1.x, ip);\n  vec4 p2 = grad4_0_4(j1.y, ip);\n  vec4 p3 = grad4_0_4(j1.z, ip);\n  vec4 p4 = grad4_0_4(j1.w, ip);\n\n// Normalise gradients\n  vec4 norm = taylorInvSqrt_0_3(vec4(dot(p0_0_6,p0_0_6), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_0_6 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt_0_3(dot(p4,p4));\n\n// Mix contributions from the five corners\n  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 49.0 * ( dot(m0*m0, vec3( dot( p0_0_6, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n  }\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_7(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_7(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_8(vec4 x) {\n     return mod289_1_7(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_9(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_10(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_11 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_12 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_12;\n  vec3 i1 = min( g_1_12.xyz, l.zxy );\n  vec3 i2 = max( g_1_12.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_11.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_7(i);\n  vec4 p = permute_1_8( permute_1_8( permute_1_8(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_11.wyz - D_1_11.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_13 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_14 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_13.xy,h.z);\n  vec3 p3 = vec3(a1_1_13.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_9(vec4(dot(p0_1_14,p0_1_14), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_14 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_14,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nvec4 line3D (vec3 positionOffset, float computedThickness) {\n  vec2 aspectVec = vec2(aspect, 1.0);\n  mat4 projViewModel = projection * view * model;\n  vec4 previousProjected = projViewModel * vec4(previous + positionOffset, 1.0);\n  vec4 currentProjected = projViewModel * vec4(position + positionOffset, 1.0);\n  vec4 nextProjected = projViewModel * vec4(next + positionOffset, 1.0);\n\n  //get 2D screen space with W divide and aspect correction\n  vec2 currentScreen = currentProjected.xy / currentProjected.w * aspectVec;\n  vec2 previousScreen = previousProjected.xy / previousProjected.w * aspectVec;\n  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;\n\n  float len = computedThickness;\n  float orientation = direction;\n\n  //starting point uses (next - current)\n  vec2 dir = vec2(0.0);\n  if (currentScreen == previousScreen) {\n    dir = normalize(nextScreen - currentScreen);\n  } \n  //ending point uses (current - previous)\n  else if (currentScreen == nextScreen) {\n    dir = normalize(currentScreen - previousScreen);\n  }\n  //somewhere in middle, needs a join\n  else {\n    //get directions from (C - B) and (B - A)\n    vec2 dirA = normalize((currentScreen - previousScreen));\n    if (miter == 1) {\n      vec2 dirB = normalize((nextScreen - currentScreen));\n      //now compute the miter join normal and length\n      vec2 tangent = normalize(dirA + dirB);\n      vec2 perp = vec2(-dirA.y, dirA.x);\n      vec2 miter = vec2(-tangent.y, tangent.x);\n      dir = tangent;\n      len = computedThickness / dot(miter, perp);\n    } else {\n      dir = dirA;\n    }\n  }\n  vec2 normal = vec2(-dir.y, dir.x);\n  normal *= len/2.0;\n  normal.x /= aspect;\n\n  vec4 offset = vec4(normal * orientation, 0.0, 1.0);\n  return currentProjected + offset;\n}\n\nfloat turb (float angle, float alpha, float scale, float offset) {\n  return alpha * snoise_1_10(vec3(position.x * scale, angle, offset));  \n} \n\nvoid main() {\n  #ifdef HAS_VERTEX_SAMPLER\n  float frequencies = glAudioAnalyser_2_0(audioTexture, position.x * 0.5 + 0.5);\n  #endif\n  \n  float pinch = smoothstep(0.0, 0.5, 1.0 - abs(position.x));\n  float computedThickness = thickness;\n  computedThickness *= pinch;\n  \n  vec3 offset = vec3(0.0);\n  \n  // we will wrap the lines around like a finger trap\n  float angleOffset = index * PI; // separate each line a bit\n  float twists = 0.5; // twisting factor\n  float radialOffset = 2.0 * PI * position.x;\n  \n  #ifdef HAS_VERTEX_SAMPLER\n  angleOffset *= mix(0.5, 1.5, frequencies);\n  #endif\n  \n  float angle = radialOffset * twists + angleOffset;\n  angle += iGlobalTime;\n  \n  \n  float computedRadius = radius;\n  #ifdef HAS_VERTEX_SAMPLER\n  computedRadius += turb(angle, frequencies * 0.5, 1.0, iGlobalTime * 0.2);\n  #endif\n  computedRadius += turb(angle, 0.1, 6.0, iGlobalTime * 0.25);\n  computedRadius += turb(angle, 0.1, 2.5, iGlobalTime * 0.5);\n  computedRadius *= pinch;\n  #ifdef HAS_VERTEX_SAMPLER\n  computedRadius *= mix(0.65, 1.0, frequencies);\n  #endif\n  \n  vAngle = angle;\n  offset.y = cos(angle) * computedRadius;\n  offset.z = sin(angle) * computedRadius;\n  \n  uvCoords = vec2(position.x * 0.5 + 0.5, sign(direction));\n  gl_Position = line3D(offset, computedThickness);  \n  gl_PointSize = 1.0;\n}","#define GLSLIFY 1\nprecision highp float;\n\nuniform sampler2D brushTexture;\nuniform vec3 color;\nuniform float opacity;\nuniform bool useHue;\nuniform float iGlobalTime;\nvarying float vAngle;\nvarying vec2 uvCoords;\n\n#define PI 3.14\nfloat hue2rgb_0_0(float f1, float f2, float hue) {\n    if (hue < 0.0)\n        hue += 1.0;\n    else if (hue > 1.0)\n        hue -= 1.0;\n    float res;\n    if ((6.0 * hue) < 1.0)\n        res = f1 + (f2 - f1) * 6.0 * hue;\n    else if ((2.0 * hue) < 1.0)\n        res = f2;\n    else if ((3.0 * hue) < 2.0)\n        res = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n    else\n        res = f1;\n    return res;\n}\n\nvec3 hsl2rgb_0_1(vec3 hsl) {\n    vec3 rgb;\n    \n    if (hsl.y == 0.0) {\n        rgb = vec3(hsl.z); // Luminance\n    } else {\n        float f2;\n        \n        if (hsl.z < 0.5)\n            f2 = hsl.z * (1.0 + hsl.y);\n        else\n            f2 = hsl.z + hsl.y - hsl.y * hsl.z;\n            \n        float f1 = 2.0 * hsl.z - f2;\n        \n        rgb.r = hue2rgb_0_0(f1, f2, hsl.x + (1.0/3.0));\n        rgb.g = hue2rgb_0_0(f1, f2, hsl.x);\n        rgb.b = hue2rgb_0_0(f1, f2, hsl.x - (1.0/3.0));\n    }   \n    return rgb;\n}\n\nvec3 hsl2rgb_0_1(float h, float s, float l) {\n    return hsl2rgb_0_1(vec3(h, s, l));\n}\n\nvoid main() {\n  vec3 tCol = color;\n  if (useHue) {\n    float sat = 0.7;\n    float light = 0.6;\n    \n    float rainbow = sin(vAngle * 1.0) * 0.5 + 0.5;\n    float hue = 0.0;\n    hue += mix(0.5, 0.9, rainbow);\n    tCol = hsl2rgb_0_1(vec3(hue, sat, light));\n  }\n  \n  // vec2 vUv = vec2(uvCoords.x, 1.0 - abs(uvCoords.y));\n  // vec4 brush = texture2D(brushTexture, vUv);\n  \n  gl_FragColor = vec4(tCol, opacity);\n  gl_FragColor.rgb *= gl_FragColor.a;\n}"),k=s({fov:50*Math.PI/180,position:[0,0,1],near:1e-4,far:1e4}),F=a({element:P,distanceBounds:[.5,100],distance:.5}),V=g(x).map(i),z=V.map(function(t){return o(L,D,t)}),q=void 0;n();var Y=0;M.on("tick",function(t){Y+=Math.min(30,t)/1e3;var e=L.drawingBufferWidth,r=L.drawingBufferHeight;k.viewport[2]=e,k.viewport[3]=r,F.update(k.position,k.direction,k.up),k.update(),L.viewport(0,0,e,r),L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT);var n=1.5*Math.min(e,r);L.disable(L.DEPTH_TEST),N.style({scale:[1/e*n,1/r*n]}),N.draw(),L.disable(L.DEPTH_TEST),L.enable(L.BLEND),S.additive?L.blendFunc(L.ONE,L.ONE):L.blendFunc(L.ONE,L.ONE_MINUS_SRC_ALPHA),L.disable(L.CULL_FACE),D.bind(),D.uniforms.iGlobalTime=Y,D.uniforms.radius=E,D.uniforms.audioTexture=0,D.uniforms.opacity=S.opacity,D.uniforms.useHue=S.useHue,q.bindFrequencies(0),z.forEach(function(t,n,i){t.color=j,t.thickness=A,t.model=B,t.view=k.view,t.projection=k.projection,t.aspect=e/r,t.miter=0,D.uniforms.index=n/(i.length-1),t.draw()})})},{100:100,112:112,13:13,135:135,137:137,138:138,139:139,140:140,141:141,23:23,3:3,40:40,41:41,80:80,92:92,95:95,97:97,99:99}],137:[function(t,e,r){"use strict";function n(t){return t&&console.error(t),i('\n    <div>Only supported on Desktop Chrome & FireFox.</div>\n    <div>See my other <strong>#codevember</strong> demos at\n    <a target="_top" href="https://github.com/mattdesl/codevember">\n    https://github.com/mattdesl/codevember</a>.</div>\n  ')}var i=t(138)();e.exports=n},{138:138}],138:[function(t,e,r){"use strict";function n(t){function e(){p();var t=document.createElement("div");return t.setAttribute("id","fatal-error"),document.body.appendChild(t),o(t.style,{font:f?"16px monospace":'15px "Open Sans", Helvetica, sans-serif',background:n?"#313131":"#fff",color:n?"#e9e9e9":"#000","word-wrap":f?"break-word":void 0}),t}function r(t){return t.map(function(t){return'<div class="fatal-error-stack-line">'+t+"</div>"}).join("\n")}t=t||{};var n=t.dark,f=t.pre,l=t.googleFonts!==!1,h=t.stack,p=s(function(){l&&u.add({"Open Sans":[300,600]}),i(c)});return function(t){var n=t;if(t instanceof Error&&(n=h?t.stack:t.message),"string"==typeof n&&(n=(n||"").trim(),h)){var i=n.split("\n");i.length>0&&(n=r(i))}var o=document.querySelector("#fatal-error");for(o||(o=e());o.firstChild;)o.removeChild(o.firstChild);return Array.isArray(n)?n.forEach(function(t){o.appendChild(a(t))}):o.appendChild(a(n)),o}}var i=t(94),o=t(97),a=t(21),s=t(99),u=t(91),c="\n#fatal-error {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 100000;\n  top: 0;\n  left: 0;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 16px;\n  margin: 0;\n  color: #000;\n}\n.fatal-error-stack-line {\n  padding-left: 20px;\n}\n.fatal-error-stack-line:first-child {\n  padding-left: 0px;\n  font-weight: bold;\n}\na, a:visited, a:active {\n  text-decoration: none;\n  color: #48a0cd;\n}\na:hover {\n  text-decoration: underline;\n}\n";e.exports=n},{21:21,91:91,94:94,97:97,99:99}],139:[function(t,e,r){"use strict";function n(t){return function(e,r,n){return r=l(r+t,0,n.length-1),n[r]}}function i(t,e){var r=[];return t.forEach(function(t){var n=e?-t:t;r.push(n,t)}),r}function o(t){for(var e=new Uint16Array(6*t),r=0,n=0,i=0;t>i;i++){var o=n;e[r++]=o+0,e[r++]=o+1,e[r++]=o+2,e[r++]=o+2,e[r++]=o+1,e[r++]=o+3,n+=2}return e}var a=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=t(27),u=t(65),c=t(1),f=t(40),l=t(20);e.exports=function(t,e,r){function l(t){t.length>0&&3!==t[0].length&&(t=t.map(function(t){var e=a(t,3),r=e[0],n=e[1],i=e[2];return[r||0,n||0,i||0]})),y=6*(t.length-1);var e=i(t.map(function(t){return 1}),!0),r=i(t),s=i(t.map(n(-1))),u=i(t.map(n(1))),f=o(t.length);d.update(c(r)),g.update(c(s)),v.update(c(u)),m.update(c(e)),p.update(f),b.update([{buffer:d,size:3},{buffer:m,size:1},{buffer:v,size:3},{buffer:g,size:3}],p)}function h(e,r){return e=e||Float32Array,s(t,new e,r||t.ARRAY_BUFFER,t.STATIC_DRAW)}if(!e)throw new TypeError("need to pass a shader");e.bind(),e.attributes.position.location=0,e.attributes.direction.location=1,e.attributes.next.location=2,e.attributes.previous.location=3;var p=h(Uint16Array,t.ELEMENT_ARRAY_BUFFER),d=h(),g=h(),v=h(),m=h(),y=0,b=u(t),_=f([]),w=f([]),x=f([]),E=1,A=1,T=0,I=[1,1,1];return r&&l(r),{update:l,model:_,view:x,projection:w,thickness:E,color:I,miter:T,aspect:A,draw:function(){e.bind(),e.uniforms.model=this.model,e.uniforms.view=this.view,e.uniforms.projection=this.projection,e.uniforms.color=this.color,e.uniforms.thickness=this.thickness,e.uniforms.aspect=this.aspect,e.uniforms.miter=this.miter,b.bind(),b.draw(t.TRIANGLES,y),b.unbind()}}}},{1:1,20:20,27:27,40:40,65:65}],140:[function(t,e,r){"use strict";e.exports=function(){return/(iPad|iPhone|Android)/i.test(navigator.userAgent)}},{}],141:[function(t,e,r){function n(t,e){if(!t)throw new TypeError("must specify a src parameter");return e=e||{},e.buffer?i(t,e):o(t,e)}var i=t(143),o=t(146);e.exports=n},{143:143,146:146}],142:[function(t,e,r){"use strict";function n(){var t=window.AudioContext||window.webkitAudioContext;return new t}e.exports=n},{}],143:[function(t,e,r){(function(r){"use strict";function n(t,e){function n(t){a(d,t,function(t,e){return t?p.emit("error",t):(l=e,f&&(f.buffer=l),h=l.duration,g.buffer=l,void p.emit("load"))},function(t,e){p.emit("progress",t,e)},function(){p.emit("decoding")})}function c(){p.emit("end"),b=!1,y=0}e=e||{};var f,l,h,p=new s,d=e.context||o(),g=d.createGain(),v=null,m=null,y=0,b=!1,_=e.loop;p.play=function(){if(!b){b=!0,f=d.createBufferSource(),f.connect(p.node),f.onended=c,l&&(f.buffer=l),_&&(f.loop=!0),h&&y>h&&(y%=h);var t=y;f.start(0,t),v=u()}},p.pause=function(){b&&(b=!1,f.onended=null,f.stop(0),m=u(),y+=(m-v)/1e3)},p.stop=function(){p.pause(),c()},p.dispose=function(){l=null},p.node=g,p.context=d,Object.defineProperties(p,{duration:{enumerable:!0,configurable:!0,get:function(){return h}},playing:{enumerable:!0,configurable:!0,get:function(){return b}},buffer:{enumerable:!0,configurable:!0,get:function(){return l}},volume:{enumerable:!0,configurable:!0,get:function(){return g.gain.value},set:function(t){g.gain.value=t}}}),"number"==typeof e.volume&&(p.volume=e.volume);var w=Array.isArray(t)?t:[t];w=w.filter(Boolean);var x=w.some(i);if(x){var E=w.filter(i)[0];"function"==typeof E.getAttribute?E=E.getAttribuet("src"):"string"==typeof E.src&&(E=E.src),n(E)}else r.nextTick(function(){p.emit("error",i.createError(w))});return p}var i=t(144),o=t(142),a=t(147),s=t(8).EventEmitter,u=t(152);e.exports=n}).call(this,t(10))},{10:10,142:142,144:144,147:147,152:152,8:8}],144:[function(t,e,r){"use strict";function n(t){if(!t)throw new TypeError("src cannot be empty");var e;if("function"==typeof t.getAttribute)e=t.getAttribute("type");else if("string"==typeof t){var r=o(t);r&&(e=s(r))}else e=t.type;if(!e)return!0;a||(a=new window.Audio);var n=a.canPlayType(e).replace(/no/,"");return Boolean(n)}function i(t){var e=new Error("This browser does not support any of the following sources:\n    "+t.join(", ")+"\nTry using an array of OGG, MP3 and WAV.");return e.type="AUDIO_FORMAT",e}function o(t){var e=t.lastIndexOf(".");return 0>=e||e===t.length-1?void 0:t.substring(e+1)}var a,s=t(148);e.exports=n,e.exports.createError=i},{148:148}],145:[function(t,e,r){"use strict";function n(t,e,r){function n(i){t.removeEventListener(e,n,!1),r()}t.addEventListener(e,n,!1)}e.exports=n},{}],146:[function(t,e,r){(function(r){"use strict";function n(t,e){function n(){var t=function(){f.emit("load")};h.load(),h.readyState>=h.HAVE_ENOUGH_DATA?r.nextTick(t):(c(h,"canplay",t),c(h,"error",function(t){f.emit("error",t)}))}e=a({},e);var f=new i;e.element||(e.element=new window.Audio);var l=e.volume;delete e.volume;var h=o(t,e),p=e.context||s(),d=p.createGain(),g=p.createMediaElementSource(h);g.connect(d),h.addEventListener("ended",function(){f.emit("end")}),f.element=h,f.context=p,f.node=d,f.play=h.play.bind(h),f.pause=h.pause.bind(h),f.dispose=function(){},f.stop=function(){var t=f.playing;h.pause(),h.currentTime=0,t&&f.emit("end")},Object.defineProperties(f,{duration:{enumerable:!0,configurable:!0,get:function(){return h.duration}},currentTime:{enumerable:!0,configurable:!0,get:function(){return h.currentTime}},playing:{enumerable:!0,configurable:!0,get:function(){return!h.paused}},volume:{enumerable:!0,configurable:!0,get:function(){return d.gain.value},set:function(t){d.gain.value=t}}}),"number"==typeof l&&(f.volume=l);var v=Array.isArray(t)?t:[t];v=v.filter(Boolean);var m=v.some(u);return m?n():r.nextTick(function(){f.emit("error",u.createError(v))}),f}var i=t(8).EventEmitter,o=t(153).audio,a=t(151),s=t(142),u=t(144),c=t(145);e.exports=n}).call(this,t(10))},{10:10,142:142,144:144,145:145,151:151,153:153,8:8}],147:[function(t,e,r){"use strict";function n(t,e,r,n,a){function s(e){a(),t.decodeAudioData(e,function(t){r(null,t)},function(){var t=new Error("Error decoding audio data");t.type="DECODE_AUDIO_DATA",r(t)})}var u=i({uri:e,responseType:"arraybuffer"},function(t,n,i){return/^2/.test(n.statusCode)||(t=new Error("status code "+n.statusCode+" requesting "+e)),t?r(t):void s(i)});o(u).on("data",function(t,e){n(t,e)})}var i=t(156),o=t(155);e.exports=n},{155:155,156:156}],148:[function(t,e,r){var n=t(149),i={};Object.keys(n).forEach(function(t){var e=n[t];e.forEach(function(e){i[e]=t})}),e.exports=function(t){if(!t)throw new TypeError("must specify extension string");return 0===t.indexOf(".")&&(t=t.substring(1)),i[t.toLowerCase()]}},{149:149}],149:[function(t,e,r){e.exports={"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a","m4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/webm":["weba"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/wav":["wav"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"]}},{}],150:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t?window&&"object"==typeof window.Node?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName:!1}},{}],151:[function(t,e,r){arguments[4][97][0].apply(r,arguments)},{97:97}],152:[function(t,e,r){arguments[4][19][0].apply(r,arguments)},{19:19}],153:[function(t,e,r){function n(t,e,r){r=r||{},Array.isArray(e)||(e=[e]);var n=r.element||document.createElement(t);return r.loop&&n.setAttribute("loop","loop"),r.muted&&n.setAttribute("muted","muted"),r.autoplay&&n.setAttribute("autoplay","autoplay"),r.crossOrigin&&n.setAttribute("crossorigin",r.crossOrigin),r.preload&&n.setAttribute("preload",r.preload),r.poster&&n.setAttribute("poster",r.poster),"undefined"!=typeof r.volume&&n.setAttribute("volume",r.volume),e=e.filter(Boolean),e.forEach(function(t){n.appendChild(i(t))}),n}function i(t){if(a(t))return t;if("string"==typeof t&&(t={src:t},t.src)){var e=o(t.src);e&&(t.type=s(e))}var r=document.createElement("source");return t.src&&r.setAttribute("src",t.src),t.type&&r.setAttribute("type",t.type),r}function o(t){var e=t.lastIndexOf(".");return 0>=e||e===t.length-1?null:t.substring(e+1)}var a=t(150),s=t(154);e.exports.video=n.bind(null,"video"),e.exports.audio=n.bind(null,"audio")},{150:150,154:154}],154:[function(t,e,r){var n={"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a","m4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/webm":["weba"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/wav":["wav"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"]},i={};Object.keys(n).forEach(function(t){var e=n[t];e.forEach(function(e){i[e]=t})}),e.exports=function(t){return 0===t.indexOf(".")&&(t=t.substring(1)),i[t.toLowerCase()]}},{}],155:[function(t,e,r){function n(t){function e(t){var e=t.lengthComputable?t.loaded/t.total:0;o||n.emit("data",e,t.total||null),o=1===e}function r(i){("load"===i.type||/^(ready|complete)$/g.test((i.currentTarget||i.srcElement).readyState))&&(o||(t.removeEventListener?(t.removeEventListener("load",r,!1),t.removeEventListener("progress",e,!1)):t.detatchEvent&&t.detatchEvent("onreadystatechange",r),n.emit("data",1,i.total||null),n.emit("done"),o=!0))}var n=new i,o=!1;return t.attachEvent?(t.attachEvent("onreadystatechange",r),n):(t.addEventListener("load",r,!1),t.addEventListener("progress",e,!1),n)}var i=t(8).EventEmitter;e.exports=n},{8:8}],156:[function(t,e,r){"use strict";function n(t,e){for(var r=0;r<t.length;r++)e(t[r])}function i(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,r){var n=t;return l(e)?(r=e,"string"==typeof t&&(n={uri:t})):n=p(e,{uri:t}),n.callback=r,n}function a(t,e,r){return e=o(t,e,r),s(e)}function s(t){function e(){4===c.readyState&&o()}function r(){var t=void 0;if(c.response?t=c.response:"text"!==c.responseType&&c.responseType||(t=c.responseText||c.responseXML),_)try{t=JSON.parse(t)}catch(e){}return t}function n(t){clearTimeout(d),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,s(t,u)}function o(){if(!p){var e;clearTimeout(d),e=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var n=u,i=null;0!==e?(n={body:r(),statusCode:e,method:v,headers:{},url:g,rawRequest:c},c.getAllResponseHeaders&&(n.headers=h(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,n,n.body);
}}var s=t.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=f(s);var u={body:void 0,headers:{},statusCode:0,method:v,url:g,rawRequest:c},c=t.xhr||null;c||(c=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var l,p,d,g=c.url=t.uri||t.url,v=c.method=t.method||"GET",m=t.body||t.data||null,y=c.headers=t.headers||{},b=!!t.sync,_=!1;if("json"in t&&(_=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),m=JSON.stringify(t.json))),c.onreadystatechange=e,c.onload=o,c.onerror=n,c.onprogress=function(){},c.ontimeout=n,c.open(v,g,!b,t.username,t.password),b||(c.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(d=setTimeout(function(){p=!0,c.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",n(t)},t.timeout)),c.setRequestHeader)for(l in y)y.hasOwnProperty(l)&&c.setRequestHeader(l,y[l]);else if(t.headers&&!i(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(m),c}function u(){}var c=t(157),f=t(159),l=t(158),h=t(162),p=t(163);e.exports=a,a.XMLHttpRequest=c.XMLHttpRequest||u,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:c.XDomainRequest,n(["get","put","post","patch","head","delete"],function(t){a["delete"===t?"del":t]=function(e,r,n){return r=o(e,r,n),r.method=t.toUpperCase(),s(r)}})},{157:157,158:158,159:159,162:162,163:163}],157:[function(t,e,r){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],158:[function(t,e,r){function n(t){var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=n;var i=Object.prototype.toString},{}],159:[function(t,e,r){function n(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}e.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],160:[function(t,e,r){function n(t,e,r){if(!s(e))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this),"[object Array]"===u.call(t)?i(t,e,r):"string"==typeof t?o(t,e,r):a(t,e,r)}function i(t,e,r){for(var n=0,i=t.length;i>n;n++)c.call(t,n)&&e.call(r,t[n],n,t)}function o(t,e,r){for(var n=0,i=t.length;i>n;n++)e.call(r,t.charAt(n),n,t)}function a(t,e,r){for(var n in t)c.call(t,n)&&e.call(r,t[n],n,t)}var s=t(158);e.exports=n;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{158:158}],161:[function(t,e,r){function n(t){return t.replace(/^\s*|\s*$/g,"")}r=e.exports=n,r.left=function(t){return t.replace(/^\s*/,"")},r.right=function(t){return t.replace(/\s*$/,"")}},{}],162:[function(t,e,r){var n=t(161),i=t(160),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return i(n(t).split("\n"),function(t){var r=t.indexOf(":"),i=n(t.slice(0,r)).toLowerCase(),a=n(t.slice(r+1));"undefined"==typeof e[i]?e[i]=a:o(e[i])?e[i].push(a):e[i]=[e[i],a]}),e}},{160:160,161:161}],163:[function(t,e,r){function n(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)i.call(r,n)&&(t[n]=r[n])}return t}e.exports=n;var i=Object.prototype.hasOwnProperty},{}]},{},[136]);